<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CMS管理</title>

  <link rel="stylesheet" href="/static/css/font-awesome.css">
  <link rel="stylesheet" href="/static/css/sidebar-menu.css">
  <!---->

  <link href="/static/css/bootstrap.min.css" rel="stylesheet">
  <link href="/static/css/base.css" rel="stylesheet">

  <link href="/static/css/toastr.min.css" rel="stylesheet" />
  <!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
  <![endif]-->
  <script src="//cdn.jsdelivr.net/npm/bluebird@3.5.3/js/browser/bluebird.min.js"></script>

  <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/toastr.min.js"></script>

  <script src="/static/js/jquery.cookie.js"></script>
  <script src="/static/js/bprotocol.js"></script>
  <script src="/static/js/conf.js"></script>
  <script src="/static/js/sidebar-menu.js"></script>
  <script src="/static/js/base.js"></script>

  <style>
    .spantip{
      color: rgba(0,0,0,.5);
    }
    fieldset{padding:.35em .625em .35em;margin:0 2px;border:1px solid silver}

    legend{padding:.5em;border:0;width:auto;font-weight: 700}

    .cmslist_pager,.black_pager,.white_pager {
      padding: 0 10px 0 240px;
      position: fixed;
      bottom: 0;
      left: 0;
      height: 60px;
      width: 100%;
    }
  </style>
</head>
<body>
<aside class="main-sidebar">
  <section class="sidebar">
    
  </section>
</aside>
<section class="main-content">
  <header>
    
  </header>

  <section class="content" id="cmslist"   style="display: none">

    <!--CMS信息-->
    <div class="cmslistContent CmsContent">
      <div style="text-align: center;font-size: 30px;font-weight:bold;margin: 10px 0;color: #3c3c3c;">CMS信息</div>
      <div class="cmstablebox" style="width: 100%;height: 100%;transition: all 0.5s ease 0s;">

        <table class="table table-striped table-bordered">
          <thead>
          <tr>
            <th>CMS备注</th>       
            <th>名称</th>          
            <th>PU_CMD端口</th>          
            <th>CU_CMD端口</th>          
            <!-- <th>序列号</th>         -->
            <!-- <th>最大上线设备数</th>               
            <th>最大在线设备数</th>               
            <th>开启使用黑白名单</th>              -->
            <!-- <th>域名</th>           
            <th>代理</th>           
            <th>CU_CMD端口</th>     
            <th>PU_CMD端口</th>     
            <th>数据库主机</th>     
            <th>数据库端口</th>     
            <th>数据库账号</th>      -->
            <th>版本</th>     
            <th>详情</th>
            <th colspan="3">管理</th>
          </tr>
          </thead>
          <tbody>

          </tbody>
        </table>
        <div id="paging" class='cmslistpage'> 
            <div class="first">首页</div>
            <div class="prev">上一页</div>
            <ul class="list"></ul>
            <div class="go">
                <input type="text" placeholder="Goto">
                <button>跳转</button>
            </div>
            <div class="next">下一页</div>
            <div class="last">末页</div>
        </div>
      </div>
      
      <!-- <div class="cmslist_pager" style="height: 60px;">

        <ul class="pager" style="margin-bottom: 0">
          <li>
            <select name="currentCMSListPageSize" data-bind="showCmsList" class="pageSelect input-sm">
              <option value="10">10条/页</option>
              <option value="20">20条/页</option>
              <option value="30">30条/页</option>
              <option value="40">40条/页</option>
              <option value="50">50条/页</option>
            </select>
          </li>
          <li><a href="javascript:;" onclick="getCMSTerm_list(0)">首页</a></li>
          <li><a href="javascript:;" onclick="bindPager_Previous(currentCMSListPage,getCMSTerm_list)">上一页</a></li>
          <li><a href="javascript:;"
                 onclick="bindPager_Next(currentCMSListPage,currentCMSListPage_total,getCMSTerm_list)">下一页</a></li>
          <li><a href="javascript:;" onclick="getCMSTerm_list(currentCMSListPage_total-1)">尾页</a></li>
        </ul>

      </div> -->
    </div>
    <!--CMS信息结束-->
    
    <!--CMS设备信息-->
    <div class="cmsDevicelistContent CmsContent" style="display: none">
      <!--<div style="text-align: center;font-size: 30px;font-weight:bold;margin: 10px 0;color: #3c3c3c;">CMS设备信息</div>-->
      <div class="head">
        <div class="back" onclick="Back('.CmsContent','.cmslistContent')">
              <span class="fa fa-angle-left pull-left"
                    style="font-size: 30px;line-height: 40px;padding-left: 10px;cursor: pointer"></span>
          <span class="pull-left" style="font-size: 18px;line-height: 40px;">返回</span>
        </div>
        <div class="title"
             style="text-align: center;font-size: 30px;font-weight:bold;margin: 10px 0 10px 0;color: #3c3c3c;">
          PU设备信息
        </div>
      </div>
      <div class="cmsDevicetablebox" style="width: 100%;height: 100%;overflow: auto;transition: all 0.5s ease 0s;">

        <table class="table table-striped table-bordered">
          <thead>
          <tr>
            <th>ID</th>
            <th>PU名称</th>
            <th>PU序列号</th>
            <th>最后在线时间</th>
            <th>最后离线时间</th>
          </tr>
          </thead>
          <tbody>

          </tbody>
        </table>

        <div id="paging" class='cmsDevicelistpage'> 
            <div class="first">首页</div>
            <div class="prev">上一页</div>
            <ul class="list"></ul>
            <div class="go">
                <input type="text" placeholder="Goto">
                <button>跳转</button>
            </div>
            <div class="next">下一页</div>
            <div class="last">末页</div>
        </div>
      </div>

      <!-- <div class="cmslist_pager" style="height: 60px;">

        <ul class="pager" style="margin-bottom: 0">
          <li>
            <select name="currentCMSDevicePageSize" data-bind="RenderCmsDevice" class="pageSelect input-sm">
              <option value="10">10条/页</option>
              <option value="20">20条/页</option>
              <option value="30">30条/页</option>
              <option value="40">40条/页</option>
              <option value="50">50条/页</option>
            </select>
          </li>
          <li><a href="javascript:;" onclick="getCMSPuDevice_list(0)">首页</a></li>
          <li><a href="javascript:;" onclick="bindPager_Previous(currentCMSListPage,getCMSTerm_list)">上一页</a></li>
          <li><a href="javascript:;"
                 onclick="bindPager_Next(currentCMSDevicePage,currentCMSDevicePage_total,getCMSTerm_list)">下一页</a></li>
          <li><a href="javascript:;" onclick="getCMSPuDevice_list(currentCMSDevicePage_total-1)">尾页</a></li>
        </ul>

      </div> -->
    </div>
    <!--CMS设备信息结束-->

    <!--黑白名单-->
    <div class="BlackWhiteListContent CmsContent black_whiteContent" style="display: none">
        <div class="head">
          <div class="back" onclick="Back('.CmsContent','.cmslistContent')">
                <span class="fa fa-angle-left pull-left"
                      style="font-size: 30px;line-height: 40px;padding-left: 10px;cursor: pointer"></span>
            <span class="pull-left" style="font-size: 18px;line-height: 40px;">返回</span>
          </div>
          <div class="title"
               style="text-align: center;font-size: 30px;font-weight:bold;margin: 10px 0 10px 0;color: #3c3c3c;">
            黑白名单管理<!--<span>(当前使用白名单管理)</span>-->
          </div>
        </div>
        
        <div class="canclose">
          <fieldset>
            <legend>设备控制模式</legend>
            <label><input type="radio" name="CMSbwManage" value="BlackList" class="form">黑名单模式<span class="spantip">(默认所有的设备都可以登录,在黑名单列表不允许上线)</span></label><br>
            <label><input type="radio" name="CMSbwManage" value="WhiteList" class="form">白名单模式<span class="spantip">(针对设置的白名单设置才允许上线)</span></label><br>
            <hr style="margin: 5px 0"/>
            <div class="form-group form-inline" style="margin-bottom:5px">
              <label for="MaxDevices" style="display:inline-block;width:100px">最大设备总数</label>
              <input type="number" name="MaxDevices"  id="MaxDevices"  onkeydown="this.value=this.value.replace(/-/g,'');" oninput="this.value=this.value.replace(/-/g,'');" class="form-control"  placeholder="">
              <br>
              <label for="MaxOnlineDevices" style="display:inline-block;width:100px">最大设备在线数</label>
              <input type="number" name="MaxOnlineDevices"  id="MaxOnlineDevices"  onkeydown="this.value=this.value.replace(/-/g,'');" oninput="this.value=this.value.replace(/-/g,'');" class="form-control"  placeholder="">
            </div>
            <input type="button" class="btn btn-primary" onclick="CMSUpdateBW()" value="保存">
          </fieldset>
        </div>
        <!--<button type="button"  class="btn" style="background: #222d32;color: #ffffff;margin: 10px 0"-->
        <!--onclick="CMSUpdateBW('WhiteList')"> 启动白名单-->
        <!--</button>-->
        <!--<button type="button"  class="btn" style="background: #222d32;color: #ffffff;margin: 10px 0"-->
        <!--onclick="CMSUpdateBW('BlackList')"> 启动黑名单-->
        <!--</button>-->
        <!--添加黑白名单-->
        <button type="button" id="AddBlack" class="btn" style="background: #222d32;color: #ffffff;margin: 10px 0"
                onclick="ShowAddBlack_White()"> 添加黑白名单
        </button>
        <!--添加黑白名单-->
        <div class="showBlackWhiteMsg">
          <div>
            <!-- Nav tabs -->
            <ul class="nav nav-tabs" role="tablist">
              <li role="presentation"  class="active"><a href="#WhiteList" aria-controls="WhiteList" role="tab" data-toggle="tab">白名单</a>
              <li role="presentation"><a href="#BlackList" aria-controls="BlackList" role="tab"
                                                        data-toggle="tab">黑名单</a></li>
              </li>
            </ul>
  
            <!-- Tab panes -->
            <div class="tab-content">
                <div role="tabpanel" class="tab-pane active" id="WhiteList">
  
                    <div class="Whitetablebox"
                         style="width: 100%;height: 100%;margin-top: 10px;overflow: auto;transition: all 0.5s ease 0s;">
                      <table class="table table-striped table-bordered">
                        <thead>
                        <tr>
                          <th>控制模式</th>
                          <th>CMS序列号</th>                 <!--  id-->
                          <th>类型</th>           <!--   randcode-->
                          <th>值</th>           <!--   randcode-->
                          <th colspan="2">操作</th>
                        </tr>
                        </thead>
                        <tbody>
                          
                        </tbody>
                      </table>
                      <div id="paging" class='Whitelistpage'> 
                          <div class="first">首页</div>
                          <div class="prev">上一页</div>
                          <ul class="list"></ul>
                          <div class="go">
                              <input type="text" placeholder="Goto">
                              <button>跳转</button>
                          </div>
                          <div class="next">下一页</div>
                          <div class="last">末页</div>
                      </div>
                    </div>
      
                    <!-- <div class="white_pager" style="height: 60px;">

                      <ul class="pager" style="margin-bottom: 0">
                        <li>
                          <select name="currentCMSWhiteListPageSize" data-bind="showWhite_list" class="pageSelect input-sm">
                            <option value="10">10条/页</option>
                            <option value="20">20条/页</option>
                            <option value="30">30条/页</option>
                            <option value="40">40条/页</option>
                            <option value="50">50条/页</option>
                          </select>
                        </li>
                        <li><a href="javascript:;" onclick="getCMSWhite_list(0)">首页</a></li>
                        <li><a href="javascript:;" onclick="bindPager_Previous(currentCMSWhiteListPage,getCMSWhite_list)">上一页</a></li>
                        <li><a href="javascript:;"
                               onclick="bindPager_Next(currentCMSWhiteListPage,currentCMSWhiteListPage_total,getCMSWhite_list)">下一页</a></li>
                        <li><a href="javascript:;" onclick="getCMSWhite_list(currentCMSWhiteListPage_total-1)">尾页</a></li>
                      </ul>
      
                    </div> -->
                </div>
                <div role="tabpanel" class="tab-pane" id="BlackList">
                  <div class="Blacktablebox"
                      style="width: 100%;height: 100%;margin-top: 10px;overflow: auto;transition: all 0.5s ease 0s;">
  
                    <table class="table table-striped table-bordered">
                      <thead>
                      <tr>
                        <th>控制模式</th>
                        <th>CMS序列号</th>                 <!--  id-->
                        <th>类型</th>           <!--   randcode-->
                        <th>值</th>           <!--   randcode-->
                        <th colspan="2">操作</th>
                      </tr>
                      </thead>
                      <tbody> 
                        
                      </tbody>
                    </table>
                    <div id="paging" class='Blacklistpage'> 
                        <div class="first">首页</div>
                        <div class="prev">上一页</div>
                        <ul class="list"></ul>
                        <div class="go">
                            <input type="text" placeholder="Goto">
                            <button>跳转</button>
                        </div>
                        <div class="next">下一页</div>
                        <div class="last">末页</div>
                    </div>
                  </div>
  
                  <!-- <div class="black_pager" style="height: 60px;">
  
                    <ul class="pager" style="margin-bottom: 0">
                      <li>
                        <select name="currentCMSBlackListPageSize" data-bind="showBlack_list" class="pageSelect input-sm">
                          <option value="10">10条/页</option>
                          <option value="20">20条/页</option>
                          <option value="30">30条/页</option>
                          <option value="40">40条/页</option>
                          <option value="50">50条/页</option>
                        </select>
                      </li>
                      <li><a href="javascript:;" onclick="getCMSBlack_list(0)">首页</a></li>
                      <li><a href="javascript:;" onclick="bindPager_Previous(currentCMSBlackListPage,getCMSBlack_list)">上一页</a></li>
                      <li><a href="javascript:;"
                            onclick="bindPager_Next(currentCMSBlackListPage,currentCMSBlackListPage_total,getCMSBlack_list)">下一页</a></li>
                      <li><a href="javascript:;" onclick="getCMSBlack_list(currentCMSBlackListPage_total-1)">尾页</a></li>
                    </ul>
  
                  </div> -->
  
                </div>
              
            </div>
  
          </div>
  
        </div>
      </div>
      <!--黑白名单结束-->

  </section>


  <section class="content" id="black_white" style="display:none">

    <!--CMS信息-->
    <div class="bwcmslistContent black_whiteContent">
      <div style="text-align: center;font-size: 30px;font-weight:bold;margin: 10px 0;color: #3c3c3c;">CMS设备黑白名单管理</div>
      <div class="cmstablebox" style="width: 100%;height: 100%;overflow: auto;transition: all 0.5s ease 0s;">

        <table class="table table-striped table-bordered">
          <thead>
          <tr>
            <th>管理</th>
            <!--<th>ID</th>                   type-->
            <th>名称</th>            <!--   randcode-->
            <th>序列号</th>                 <!--  id-->
            <th>最大上线设备数</th>             
            <th>最大在线设备数</th>             
            <th>开启使用黑白名单</th>  
            <th>域名</th>           <!--   randcode-->
            <th>代理</th>           <!--   randcode-->
            <th>CU_CMD端口</th>           <!--   randcode-->
            <th>PU_CMD端口</th>              <!--     hardwareprovider-->
            <th>数据库主机</th>               <!--    hardwareversion-->
            <th>数据库端口</th>              <!--     softwareprovider-->
            <th>数据库账号</th>               <!--    softwareversion-->
            <th>版本</th>               <!--    imei-->
          </tr>
          </thead>
          <tbody>

          </tbody>
        </table>

      </div>


      <div class="cmslist_pager" style="height: 60px;">

        <ul class="pager" style="margin-bottom: 0">
            <li>
                <select name="currentCMSListPage" data-bind="showBlack_White_list" class="pageSelect input-sm">
                  <option value="10">10条/页</option>
                  <option value="20">20条/页</option>
                  <option value="30">30条/页</option>
                  <option value="40">40条/页</option>
                  <option value="50">50条/页</option>
                </select>
              </li>
          <li><a href="javascript:;" onclick="getCMSTerm_list(0)">首页</a></li>
          <li><a href="javascript:;" onclick="bindPager_Previous(currentCMSListPage,getCMSTerm_list)">上一页</a></li>
          <li><a href="javascript:;"
                 onclick="bindPager_Next(currentCMSListPage,currentCMSListPage_total,getCMSTerm_list)">下一页</a></li>
          <li><a href="javascript:;" onclick="getCMSTerm_list(currentCMSListPage_total-1)">尾页</a></li>
        </ul>

      </div>

    </div>
    <!--CMS信息结束-->


    
  </section>

</section>


<!--添加黑白名单提示框-->
<div class="modal fade" id="AddBlackWhite_Modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">

  <div class="modal-dialog modal-md" role="document">

    <!--添加字段验证-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" onclick="closeModal('#AddBlackWhite_Modal')" aria-label="Close"><span
                aria-hidden="true">&times;</span></button>
        <h4 class="modal-title h4" style="text-align: center">添加黑白名单</h4>
      </div>
      <div class="modal-body" style="overflow: auto">
        <table class="table table-striped addField table-bordered">
          <thead>
          <tr>
            <th>控制模式</th>
            <th>控制类型</th>                 <!--  id-->
            <th>设置数据</th>               <!--    hardwaresn-->
            <th>操作</th>               <!--    hardwaresn-->
          </tr>
          </thead>
          <tbody>
            <!--插入-->
          </tbody>
        </table>


      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-success" onclick="AddBWField()">添加到黑白名单</button>
      </div>
    </div>
    <!--添加字段验证-->

  </div>
</div>
<!--添加黑白名单提示框-->


<!----------------------模板文件--------------------------->
<!--CMS信息列表-->
<script type="text/html" id="cmsListTemp">
  {{each cms_list as value }}
  <tr>
    <td>
      <span class="source">{{value.remark}}</span>
      <input style="display:none" type="text" class="edit form-control" value="{{value.remark}}" data-bind="{{value.remark}}">
    </td>
    <td>{{value.name}}</td>
    <td>{{value.pu_cmd_port}}</td>
    <td>{{value.cu_cmd_port}}</td>
    <!-- <td>{{value.cms}}</td> -->
    <!-- <td>{{value.max_pu_count}}</td>
    <td>{{value.max_online_pu_count}}</td>
    <td>{{value.use_white_black_list_type==="WhiteList"?"白名单":"黑名单"}}</td> -->
    <!-- <td>{{value.domain}}</td>
    <td>{{value.agent}}</td>
    <td>{{value.cu_cmd_port}}</td>
    <td>{{value.pu_cmd_port}}</td>
    <td>{{value.db_host}}</td>
    <td>{{value.db_port}}</td>
    <td>{{value.db_username}}</td> -->
    <td>{{value.version}}</td>
    <td class="more" style="position:relative;width:100px">
        <button class="btn">查看
        </button>
        <div class="msg_body" style="
                position:absolute;
                display:none;
                /* width:400px; */
                /* height:400px; */
                overflow:auto;
                right:50%;
                /* background-color: red; */
                z-index:999{{i}};
                /* bottom:0; */
              ">
                <ul class="list-group" style="margin-bottom:0;text-align:left">
                    <li class="list-group-item"><span style="display:inline-block;width:100px">序列号</span>{{value.cms}}</li>
                    <li class="list-group-item"><span style="display:inline-block;width:100px">域名</span>{{value.domain}}</li>
                    <li class="list-group-item"><span style="display:inline-block;width:100px">代理</span>{{value.agent}}</li>
                    <!-- <li class="list-group-item"><span style="display:inline-block;width:100px">CU_CMD端口</span>{{value.cu_cmd_port}}</li> -->
                    <!-- <li class="list-group-item"><span style="display:inline-block;width:100px">PU_CMD端口</span>{{value.pu_cmd_port}}</li> -->
                    <li class="list-group-item"><span style="display:inline-block;width:100px">数据库主机</span>{{value.db_host}}</li>
                    <li class="list-group-item"><span style="display:inline-block;width:100px">数据库端口</span>{{value.db_port}}</li>
                    <li class="list-group-item"><span style="display:inline-block;width:100px">数据库账号</span>{{value.db_username}}</li>
                    <li class="list-group-item"><span style="display:inline-block;width:100px">数据库密码</span>{{value.db_password}}</li>
                </ul>
            </div>
      </td>
    <td style="width:100px">
      <button href="javascript:;" class="btn source" onclick="ShowEdit(this)">修改备注</a>
      <button href="javascript:;" style="display:none;margin-right:10px" class="edit btn btn-success" onclick="updateCmsRemark(this,'{{value.cms}}')">确认</a>
      <button href="javascript:;" style="display:none" class="edit btn btn-danger" onclick="HideEdit(this)">取消</a>
    </td>
    <td style="width:100px"><button href="javascript:;" class="btn" onclick="showDeviceMsg('{{value.cms}}')">查看CMS设备</a></td>
    <td style="width:100px"><button href="javascript:;" class="btn" onclick="showBlack_list('{{value.cms}}')">黑白名单管理</a></td>
  </tr>
  {{/each}}
</script>

<!--CMS信息列表-->
<script type="text/html" id="cmsDeviceListTemp">
  {{each pu_list as value }}
  <tr>
    <td>{{value.puid}}</td>
    <td>{{value.puname}}</td>
    <td>{{value.serialnumber}}</td>
    <td>{{value.last_online_time}}</td>
    <td>{{value.last_offline_time}}</td>
  </tr>
  {{/each}}
</script>

<!--CMS信息列表-->
<script type="text/html" id="cmsBlackWhiteListTemp">
  {{each cms_list as value }}
  <tr>
    <!--<td>{{value.id}}</td>-->
    <td>{{value.name}}</td>
    <td>{{value.cms}}</td>
    <td>{{value.max_pu_count}}</td>
    <td>{{value.max_online_pu_count}}</td>
    <td>{{value.use_white_black_list_type==="WhiteList"?"白名单":"黑名单"}}</td>
    <td>{{value.domain}}</td>
    <td>{{value.agent}}</td>
    <td>{{value.cu_cmd_port}}</td>
    <td>{{value.pu_cmd_port}}</td>
    <td>{{value.db_host}}</td>
    <td>{{value.db_port}}</td>
    <td>{{value.db_username}}</td>
    <td>{{value.version}}</td>
    <td><a href="javascript:;" class="btn-link my-link" onclick="showBlack_list('{{value.cms}}')">黑白名单管理</a></td>
  </tr>
  {{/each}}
</script>

<!--黑名单列表-->
<script type="text/html" id="BlackListTemp">
  {{each list as value}}
  <tr>
    <td>黑名单</td>
    <td>{{value.cms}}</td>
    <td>
      <span class="source">{{value.field_type.split("|")[1]}}</span>
      <select name="" class="edit FieldSelectList input-sm" data-bind="{{value.field_type.split('|')[0]}}" style="margin: -8px 0;display: none;">

      </select>
    </td>
    <td>
      <span class="source">{{value.field_value}}</span>
      <input type="text" class="btn-sm edit" data-bind="{{value.field_value}}" style="margin: -8px 0;display: none;border: 1px solid #a9a9a9;" value="{{value.field_value}}">
    </td>
    <td>
      <button href="javascript:;" class="source btn " onclick="ShowEdit(this)">编辑</button>
      <div class="edit" style="display: none">
        <button href="javascript:;" class="btn btn-success " style="margin-right: 10px" onclick="DoEdit(this,'{{value.id}}','BlackList')">确认</button> |
        <button href="javascript:;" class="btn btn-danger " onclick="HideEdit(this)">取消</button>
      </div>

    </td>
    <td><button href="javascript:;" class="btn btn-danger " onclick="delB('{{value.id}}')">删除</button></td>
  </tr>
  {{/each}}
</script>

<!--白名单列表-->
<script type="text/html" id="WhiteListTemp">
  {{each list as value}}
  <tr>
    <td>白名单</td>
    <td>{{value.cms}}</td>
    <td>
      <span class="source">{{value.field_type.split("|")[1]}}</span>
      <select name="" class="edit FieldSelectList input-sm" data-bind="{{value.field_type.split('|')[0]}}" style="margin: -8px 0;display: none;">

      </select>
    </td>
    <td>
      <span class="source">{{value.field_value}}</span>
      <input type="text" class="btn-sm edit"  data-bind="{{value.field_value}}"  style="margin: -8px 0;display: none;border: 1px solid #a9a9a9;" value="{{value.field_value}}">
    </td>
    <td>
      <button href="javascript:;" class="source btn " onclick="ShowEdit(this)">编辑</button>
      <div class="edit" style="display: none">
        <button href="javascript:;" class="btn btn-success " style="margin-right: 10px" onclick="DoEdit(this,'{{value.id}}','WhiteList')">确认</button> |
        <button href="javascript:;" class="btn btn-danger " onclick="HideEdit(this)">取消</button>
      </div>

    </td>
    <td><button href="javascript:;" class=" btn btn-danger" onclick="delW('{{value.id}}')">删除</button></td>
  </tr>
  {{/each}}
</script>

<script type="text/html" id="AddBalckWhiteSelect">
  <tr class="hideTr" style="display: none">
    <td>
      <select name="" class="selectbw input-sm">
        <option value="BlackList">黑名单</option>
        <option value="WhiteList">白名单</option>
      </select>
    </td>
    <td>
      <select name="" class="FieldSelectList input-sm">
      </select>
    </td>
    <td>
      <input type="text" class="input-sm input_addfield" style="border: 1px solid #a9a9a9;" placeholder="请输入值"/>
    </td>
    <td>
      <input type="button" class="btn btn-danger" value="删除" style="padding: 4px 12px" onclick="delBlackWhiteField(this)">
    </td>
  </tr>
  <tr>
    <td>
      <select name="" class="selectbw input-sm">
        <option value="BlackList">黑名单</option>
        <option value="WhiteList">白名单</option>
      </select>
    </td>
    <td>
      <select name="" class="FieldSelectList input-sm">
      </select>
    </td>
    <td>
      <input type="text" class="input-sm input_addfield" style="border: 1px solid #a9a9a9;" placeholder="请输入值"/>
    </td>
    <td>
      <input type="button" class="btn btn-danger" value="删除" style="padding: 4px 12px" onclick="delBlackWhiteField(this)">
    </td>
  </tr>
  <tr>
    <td colspan="4">
      <input type="button" class="btn btn-primary" value="添加一行" onclick="addTrField(this)">
    </td>
  </tr>

</script>


<!----------------------模板文件结束--------------------------->


<script src="/static/js/bootstrap.min.js"></script>
<script src="/static/js/template.js"></script>
<script src="/static/js/cmsmanage.js"></script>
</body>
</html>
