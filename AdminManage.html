<!DOCTYPE html>
<html lang="zh">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>管理员中心</title>

  <link rel="stylesheet" href="/static/css/font-awesome.css">
  <link rel="stylesheet" href="/static/css/sidebar-menu.css">

  <style type="text/css">
    .main-sidebar {
      position: absolute;
      top: 0;
      left: 0;
      height: 100%;
      min-height: 100%;
      width: 230px;
      z-index: 810;
      background-color: #222d32;
    }

    .main-content {
      position: absolute;
      width: 100%;
      padding-left: 230px;
      top: 0;
      right: 0;
    }

    /*主体部分*/
    section .content {
      width: 100%;
      padding: 0 20px;
    }

    /*主体部分*/
    .table th,
    .table td {
      text-align: center;
    }
  </style>
  <!---->

  <link href="/static/css/bootstrap.min.css" rel="stylesheet">
  <link href="/static/css/base.css" rel="stylesheet">
  <link href="/static/css/toastr.min.css" rel="stylesheet" />
  <!--[if lt IE 9]>
    <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
  <![endif]-->
  <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/toastr.min.js"></script>

  <script src="/static/js/jquery.cookie.js"></script>
  <script src="/static/js/bprotocol.js"></script>
  <script src="/static/js/conf.js"></script>
  <script src="/static/js/sidebar-menu.js"></script>
  <script src="/static/js/base.js"></script>


</head>

<body>
  <aside class="main-sidebar">
    <section class="sidebar">

    </section>
  </aside>
  <section class="main-content">
    <style>
      /* .main-content>header {
        width: 100%;
        height: 60px;
        background: #1a2226;
      }

      .main-content>header>ul {
        margin-right: 30px;
        float: right;
      }

      .main-content>header li {
        float: left;
      }

      .main-content>header>ul>li>a {
        display: block;
        height: 60px;
        padding: 10px 25px 10px 15px;
        font-size: 16px;
        line-height: 40px;
        font-weight: 700;
        color: #4b646f;

      }

      .main-content>header>ul>li:last-child {
        position: relative;
      }

      li.user:hover .a_list {
        display: block;
      }

      .a_list {
        display: none;
        padding: 5px 0;
        position: absolute;
        right: 0;
        border: 1px solid #cccccc;
        border-radius: 3px;
        top: 56px;
        background-color: #fff;
        width: 100%;

      }

      .a_list li {
        width: 100%;

      }

      .a_list li:hover {
        background-color: #cccccc;
      }
 
      .a_list li>a {
        display: block;
        height: 30px;
        color: #000;
        line-height: 30px;
        font-size: 14px;
        width: 100%;
        text-align: center;

      } */

      .certPager {
      padding: 0 10px 0 240px;
      position: fixed;
      bottom: 0;
      left: 0;
      height: 60px;
      width: 100%;
    }

    .certTermPager {
      height: auto;
      width: 100%;
    }

    .certTermPager .pager {
      margin: 10px 0;
    }
    </style>
    <header>

    </header>

    <section id="ServerConfig" class="content" style="display:none">
      <style>
        .mytab {
          height: 50px;
        }

        .mytab ul {
          height: 100%;
          width: 260px;
          margin: 0 auto;
        }

        .mytab ul li {
          display: block;
          float: left;
          height: 40px;
          width: 130px;
          background-color: #978b8b
        }

        .mytab ul li.active {
          background-color: #222d32
        }

        .mytab ul li div:nth-child(1) {
          display: inline-block;
          height: 100%;
          width: 100%;
          line-height: 40px;
          text-align: center;
          color: #fff;
          font-size: 16px;
          cursor: pointer;
          margin: 0 auto;
        }
      </style>
      <div style="text-align: center;font-size: 30px;font-weight:bold;margin: 10px 0;color: #3c3c3c;">服务器参数配置</div>
      <button type="button" id="addUserLabel" class="btn" style="background: #222d32;color: #ffffff;margin-bottom: 10px"
        onclick="ShowAddUserLabel_modal()"> 添加配置信息 </button>
      <div class="mytab">
        <ul>
          <li class="active" data-bind="AAAServer">
            <div>认证服务器</div>
          </li>
          <li data-bind="AAAServerProxy">
            <div>代理服务器</div>
          </li>
        </ul>
      </div>
      <table class="table table-striped  table-bordered">
        <thead>
          <tr>
            <!-- <th>服务器类型</th> -->
            <th>配置参数</th>
            <th>配置值</th>
            <th>描述</th>
            <th colspan="2">操作</th>
          </tr>
        </thead>
        <tbody>

        </tbody>
      </table> 
    </section>

    <section id="UserGroup" class="content" style="display:none">
      <div class="body usergrouplist">
        <div style="text-align: center;font-size: 30px;font-weight:bold;margin: 10px 0;color: #3c3c3c;">用户组管理</div>
        <button type="button" id="addUserLabel" class="btn"
          style="background: #222d32;color: #ffffff;margin-bottom: 10px" onclick="adduserGroup()"> 新建用户组 </button>

        <table class="table table_usergroup table-striped  table-bordered">
          <thead>
            <tr>
              <th>用户组名称</th>
              <th>用户组管理员</th>
              <th colspan="3">操作</th>
            </tr>
          </thead>
          <tbody>

          </tbody>
        </table>

      </div>

      <div class="body addgroud" style="display:none">
        <style>
          .addbody {
            padding: 20px 20px;
            border: 1px solid #ccc;
            box-shadow: 2px 2px 2px #ccc;
          }

          .addbody>.hd {
            padding-bottom: 20px;
            border-bottom: 1px solid #ccc;
          }

          .addbody>.hd>ul li {
            float: left;
            font-size: 20px;
          }

          .addbody>.hd>ul li:nth-child(odd)>span.quan {
            line-height: 27px;
            width: 27px;
            height: 27px;
            display: inline-block;
            border: 1px solid #006eff;
            border-radius: 50%;
            margin-right: 10px;
            color: #006eff;
          }

          .addbody>.hd>ul li:nth-child(odd)>span.quan::before {
            display: inline-block;
            width: 25px;
            line-height: 25px;
            text-align: center;
          }

          .addbody>.hd>ul li:nth-child(even) {
            padding: 0 30px;
            line-height: 30px;
          }

          .addbody>.bd {
            padding: 20px 0;
            border-bottom: 1px solid #ccc;
          }

          .addbody.step1 .bd>div>input,
          .addbody.step3 .bd input {
            line-height: normal;
            border: 1px solid #006eff;
            outline: 0;
          }

          .addbody.step1 .bd>div:first-child input,
          .addbody.step3 .bd input {
            padding: 5px 10px;
            height: 30px;
            width: 180px;
          }

          .addbody.step1 .bd>div:last-child textarea {
            border: 1px solid #006eff;
            outline: 0;
            width: 300px;
            height: 88px;
            padding: 5px 10px;
            resize: none;
          }

          .addbody>.bottom {
            padding: 20px 0 0 0;
          }

          .addbody>.bottom>input[type=button] {
            background-color: #006eff;
            width: 76px;
            height: 30px;
            text-align: center;
            line-height: 30px;
            color: #fff;
            border: 1px solid #006eff;
            outline: 0;
          }

          .switch .bd>div:nth-child(odd) {
            border: 1px solid #ccc;
            height: 300px;
          }

          .switch .bd>div:nth-child(n+2) {
            /* padding: 0 20px; */
          }

          .switch .bd>div:nth-child(n+2) span {
            line-height: 300px;
          }

          .bd input[type=checkbox] {
            width: 16px;
            height: 16px;
            cursor: pointer;
            /* vertical-align: middle; */
            outline: 0;
            -webkit-appearance: none;
            border: 1px solid #bbb;
            box-sizing: border-box;
            background-color: #fff;
          }

          .addbody .table th,
          .addbody .table td {
            text-align: left;
          }

          .bd input[type=checkbox]:checked {
            background-image: url(/static/images/cam-201901231024.svg);
            ;
            background-color: #006eff;
            border-color: #006eff;
            background-position: 81.16% 40.63%;
            background-size: 2185.714285714286% 2157.1428571428573%;
            ;
            background-repeat: no-repeat
          }

          .bd th,
          .bd td {
            text-align: left;
          }

          .bd span.cancle {
            display: inline-block;
            width: 16px;
            height: 16px;
            background-image: url(/static/images/cam-201901231024.svg);
            ;
            background-position: 62.41% 74.48%;
            background-size: 1912.5% 1887.5%;
            ;
            background-repeat: no-repeat;
          }

          .addbody .step3 {
            color: #ccc;
          }
        </style>

        <div class="head">
          <div class="back" onclick="Back('.body','.usergrouplist')">
            <span class="fa fa-angle-left pull-left"
              style="font-size: 30px;line-height: 40px;padding-left: 10px;cursor: pointer"></span>
            <span class="pull-left" style="font-size: 18px;line-height: 40px;">返回</span>
          </div>
          <div class="title" style="text-align: center;font-size: 30px;font-weight:bold;margin: 10px 0;color: #3c3c3c;">
            新建用户组</div>
        </div>


        <!-- 步骤1 -->
        <div class="addbody step1">
          <div class="hd">
            <ul class="clearfix">
              <li><span class="quan fa fa-check"></span>填写组信息</li>
              <li><span class="fa fa-arrow-circle-right"></span></li>
              <li><span class="quan fa fa-check" style="visibility: hidden"></span>关联权限</li>
              <li><span class="fa fa-arrow-circle-right"></span></li>
              <li><span class="quan fa fa-check" style="visibility: hidden"></span>审阅</li>
            </ul>
          </div>

          <div class="bd clearfix">
            <div class="" style="height: 50px;">
              <p style="display: inline-block;width: 200px;"><span>用户组名</span><span style="color:red">*</span></p>
              <input type="text" placeholder="请输入用户组名">
            </div>
            <div class="" style="">
              <p style="vertical-align: top;display: inline-block;width: 200px;"><span>备注</span><span
                  style="color:red">*</span></p>
              <textarea type="text" placeholder="请输入备注"></textarea>
            </div>
          </div>

          <div class="bottom">
            <input type="button" value="下一步" onclick="addGroupNext('.step2')">
          </div>
        </div>
        <!-- 步骤1 -->

        <!-- 步骤2 -->
        <div class="addbody step2 switch" style="display:none;">
          <div class="hd">
            <ul class="clearfix">
              <li><span class="quan fa fa-check"></span>填写组信息</li>
              <li><span class="fa fa-arrow-circle-right"></span></li>
              <li><span class="quan fa fa-check"></span>关联权限</li>
              <li><span class="fa fa-arrow-circle-right"></span></li>
              <li><span class="quan fa fa-check" style="visibility: hidden"></span>审阅</li>
            </ul>
          </div>
          <div class="bd" style="display: flex;">
            <div style="flex: 1;overflow: auto" class="fl">
              <table class="table from">
                <thead>
                  <tr>
                    <th style="max-width:30px"></th>
                    <th>用户组权限</th>
                  </tr>
                </thead>
                <tbody>
                  <!-- <tr class="">
                                <td style="text-align:center"><input  type="checkbox" name="" id="" data-bind="GET_USER_LIST"></td>
                                <td class="data">GET_USER_LIST</td>
                              </tr> -->
                </tbody>
              </table>
            </div>
            <div class="fl">
              <span class="fa fa-chevron-circle-left"></span>
              <span class="fa fa-chevron-circle-right"></span>
            </div>
            <div style="flex: 1;overflow: auto" class="fl">
              <table class="table to">
                <thead>
                  <tr>
                    <th>用户组权限</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody>
                  <!-- <tr>
                              <td></td>
                              <td style="vertical-align: middle; text-align:right"><span class="cancle"></span></td>
                            </tr> -->
                </tbody>
              </table>
            </div>
          </div>

          <div class="bottom">
            <input type="button" value="下一步" onclick="addGroupNext('.step3')">
          </div>
        </div>
        <!-- 步骤2 -->

        <!-- 步骤3 -->
        <div class="addbody step3" style="display:none;">
          <div class="hd">
            <ul class="clearfix">
              <li><span class="quan fa fa-check"></span>填写组信息</li>
              <li><span class="fa fa-arrow-circle-right"></span></li>
              <li><span class="quan fa fa-check"></span>关联权限</li>
              <li><span class="fa fa-arrow-circle-right"></span></li>
              <li><span class="quan fa fa-check"></span>审阅</li>
            </ul>
          </div>

          <div class="bd clearfix">

            <div class="groupname" style="height: 50px;">
              <p style="display: inline-block;width: 200px;vertical-align: top"><span>组名称</span></p>
              <input class="p_edit" style="display:none" type="text" placeholder="请输入用户组名">
              <span class="p_text">用户组名</span> <i style="cursor: pointer" onclick="showEdit(this)"
                class="fa p_text fa-pencil"></i>
              <a class="p_edit my-link" onclick="p_do(this)" href="javascript:;" style="display:none">确认</a>
              <a class="p_edit my-link" onclick="p_cancle(this)" href="javascript:;" style="display:none">取消</a>

            </div>
            <div class="groupnote" style="height: 50px;">
              <p style="display: inline-block;width: 200px;vertical-align: top"><span>备注</span></p>
              <input class="p_edit" style="display:none" type="text" placeholder="请输入备注">
              <span class="p_text">备注</span> <i style="cursor: pointer" onclick="showEdit(this)"
                class="fa p_text fa-pencil"></i>
              <a class="p_edit my-link" onclick="p_do(this)" href="javascript:;" style="display:none">确认</a>
              <a class="p_edit my-link" onclick="p_cancle(this)" href="javascript:;" style="display:none">取消</a>
            </div>

            <table class="table">
              <thead>
                <tr>
                  <th>用户组权限</th>
                </tr>
              </thead>
              <tbody>
                <tr style="text-align:center">
                  <td>权限名</td>
                </tr>
              </tbody>
            </table>
          </div>

          <div class="bottom">
            <input type="button" value="返回" onclick="Back('.addbody','.step2')">
            <input type="button" value="完成" onclick="adduserGroupFinsh()">
          </div>

        </div>
        <!-- 步骤3 -->
      </div>

      <div class="body usermanage" style="display:none">
        <div class="head">
          <div class="back" onclick="Back('.body','.usergrouplist')">
            <span class="fa fa-angle-left pull-left"
              style="font-size: 30px;line-height: 40px;padding-left: 10px;cursor: pointer"></span>
            <span class="pull-left" style="font-size: 18px;line-height: 40px;">返回</span>
          </div>
          <div class="title" style="text-align: center;font-size: 30px;font-weight:bold;margin: 10px 0;color: #3c3c3c;">
            用户组用户信息</div>
        </div>
        <table class="table userlistTable table-striped table-bordered">

          <!-- <button type="button" id="addUserLabel" class="btn"
            style="background: #222d32;color: #ffffff;margin-bottom: 10px" onclick="AddGroup_User()"> 添加用户 </button> -->
          <thead>
            <tr>
              <th>用户名称</th>
              <th>用户昵称</th>
              <th>用户备注</th>
              <th>用户邮箱</th>
              <th colspan="2">操作</th>
            </tr>
          </thead>
          <tbody>

          </tbody>
        </table>

      </div>

      <div class="body PermissionManage" style="display:none">
        <div class="head">
            <div class="back" onclick="Back('.body','.usergrouplist')">
              <span class="fa fa-angle-left pull-left"
                style="font-size: 30px;line-height: 40px;padding-left: 10px;cursor: pointer"></span>
              <span class="pull-left" style="font-size: 18px;line-height: 40px;">返回</span>
            </div>
            <div class="title" style="text-align: center;font-size: 30px;font-weight:bold;margin: 10px 0;color: #3c3c3c;">
              用户组权限管理</div>
          </div>

          <div style="width: 50%;margin:0 auto">
              <button type="button" id="addPermissionBtn" class="btn"
              style="background: #222d32;color: #ffffff;margin-bottom: 10px" onclick="showGroupPermission_Modal()"> 添加权限 </button>
    
            <div class="panel panel-info other_table">
                <!-- Default panel contents -->
              <div class="panel-heading" style="font-size:20px;font-weight: 500">用户组的权限</div>
              <table class="table to table-bordered table-striped">
                <thead>
                  <tr>
                    <th>权限名</th>
                    <th>操作</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <!-- <td>Admin</td>
                    <td><a href="javascript:;" class="my-link">删除</a></td> -->
                  </tr>
                </tbody>
              </table>
            </div>
          </div>


      </div>
    </section>

    <!--用户证书管理-->
    <section class="content" id="certslistManage" style="display: none">
        <div class="certsManageContent usersTable">
          <div style="text-align: center;font-size: 30px;font-weight:bold;margin: 10px 0;color: #3c3c3c;display: block">
            用户证书管理
          </div>
          <!-- <div class="search" style="margin:20px 0 ">
            <label class="mylabel">搜索用户</label>
            <input type="text" style="border-radius: 10px;display: inline-block;width: 200px;padding: 0 20px"
              placeholder="请输入昵称/账号" class="form-control">
          </div> -->
          <table class="table table-striped table-bordered">
            <thead>
              <tr>
                <th>昵称</th>
                <th>账号</th>
                <th>备注</th>
                <th colspan="2">证书管理</th>
                <!-- <th>颁布证书</th> -->
              </tr>
            </thead>
            <tbody>
  
            </tbody>
          </table>
        </div>
        <!--证书信息表格-->
        <div class="certsManageContent certTable" style="display: none">
          <div class="head">
            <div class="back" onclick="Back('.certsManageContent','.usersTable')">
              <span class="fa fa-angle-left pull-left"
                style="font-size: 30px;line-height: 40px;padding-left: 10px;cursor: pointer"></span>
              <span class="pull-left" style="font-size: 18px;line-height: 40px;">返回</span>
            </div>
            <div class="title" style="text-align: center;font-size: 30px;font-weight:bold;margin: 10px 0;color: #3c3c3c;">
              用户证书管理
            </div>
          </div>
          <div class="showCert" style="width: 100%;overflow: auto">
            <table class="table table-striped table-bordered">
              <thead>
                <tr>
                  <!--"SerialNumber": "cert_deec7666ee6a11e8bcca0242ac110003",
                      "Type": "Registered",
                      "Mode": "UnKnowType",
                      "State": "Normal",
                      "Issuer_id": 3,
                      "IssueDate": "2018-11-22 15:25:40",
                      "ValidityBegin": "2018-11-22 15:25:40",
                      "ValidityEnd": "2038-11-17 15:25:40",
                      "IssueTimes": 1-->
                  <th>序列号</th>
                  <th>颁布设备类型</th>
                  <th>类型</th>
                  <th style="display: none">Mode</th>
                  <th>状态</th>
                  <th style="display: none">Issuer_id</th>
                  <th>颁发日期</th>
                  <th>生效日期</th>
                  <th>失效日期</th>
                  <th>颁布次数</th>
                  <th>最大颁布次数</th>
                  <th style="display: none">ParentCert</th>
                  <th>修改证书信息</th>
                  <th>证书授权次数转移</th>
                  <th>颁布的设备</th>
                  <th>上级证书</th>
                </tr>
              </thead>
              <tbody>
  
              </tbody>
            </table>
          </div>
          <div class="certPager">
            <ul class="pager" style="margin-bottom: 0">
              <li><a href="javascript:;" onclick="getCerts_list(0)">首页</a></li>
              <li><a href="javascript:;" onclick="bindPager_Previous(currentCertsPage,getCerts_list)">上一页</a></li>
              <li><a href="javascript:;"
                  onclick="bindPager_Next(currentCertsPage,currentCertsPage_total,getCerts_list)">下一页</a></li>
              <li><a href="javascript:;" onclick="getCerts_list(currentCertsPage_total-1)">尾页</a></li>
            </ul>
          </div>
        </div>
        <!--证书信息表格结束-->
  
      </section>
    <!--用户证书管理结束-->
  </section>


    



  <!--添加服务器配置提示框-->
  <div class="modal fade" id="ServerConfig_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">

    <div class="modal-dialog modal-xs" style="width: 750px" role="document">
      <!--服务器配置-->
      <div class="modal-content AddServerConfig_content">
        <div class="modal-header">
          <button type="button" class="close" onclick="closeModal('#ServerConfig_modal')" aria-label="Close"><span
              aria-hidden="true">&times;</span></button>
          <h4 class="modal-title h4" id="" style="text-align: center">添加服务器配置</h4>
        </div>

        <div class="modal-body">
          <table class="table table-striped addField table-bordered">
            <thead>
              <tr>
                <th>服务器</th>
                <th>配置参数</th>
                <th>配置值</th>
                <th>描述</th>
                <th>操作</th>
              </tr>
            </thead>
            <tbody>
              <!--插入-->

            </tbody>
          </table>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-success" onclick="AddServerConfig()">添加配置</button>
        </div>
      </div>
      <!--服务器配置-->

    </div>
  </div>
  <!--添加服务器配置提示框-->


  <div class="modal fade" id="UserGrounpManage_modal" tabindex="-1" role="dialog">

    <div class="modal-dialog modal-xs" style="width: 750px" role="document">
      <!-- 添加组用户 -->
      <div class="modal-content UserManage">
        <div class="modal-header">
          <button type="button" class="close" onclick="closeModal('#UserGrounpManage_modal')" aria-label="Close"><span
              aria-hidden="true">&times;</span></button>
          <h4 class="modal-title h4" id="" style="text-align: center">添加用户</h4>
        </div>

        <div class="modal-body switch">
          <div class="bd" style="display: flex;">
            <div style="flex: 1;overflow: auto" class="fl">
              <div>
                <!-- <input type="text" class="form-control" id="inputEmail3" placeholder="Email"> -->
                <table class="table from">
                  <thead>
                    <tr>
                      <th style="max-width:20px"></th>
                      <th>备注</th>
                      <th>用户信息</th>
                    </tr>
                  </thead>
                  <tbody>
                    <!-- <tr>
                                <td style="text-align:center"><input  type="checkbox" name="" id="" data-bind="Admin"></td>
                                <td class="data">Admin</td>
                              </tr> -->
                  </tbody>
                </table>
              </div>

            </div>
            <div class="fl">
              <span class="fa fa-chevron-circle-left"></span>
              <span class="fa fa-chevron-circle-right"></span>
            </div>
            <div style="flex: 1;overflow: auto" class="fl">
              <table class="table to">
                <thead>
                  <tr>
                    <th>用户信息</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody>
                  <!-- <tr>
                              <td></td>
                              <td style="vertical-align: middle; text-align:right"><span class="cancle"></span></td>
                            </tr> -->
                </tbody>
              </table>
            </div>
          </div>


        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-success" onclick="addGroup_User_modal()">添加用户</button>
        </div>
      </div>
      <!-- 添加组用户 -->
    </div>
  </div>

  <!-- 弹出框 -->
  <div class="modal fade" id="UserModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
    aria-hidden="false" data-backdrop="static">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" onclick="closeModal('#UserModal')" aria-label="Close"><span
              aria-hidden="true">&times;</span>
          </button>
          <h2 class="modal-title h2" id="myModalLabel" style="text-align: center">用户数据</h2>
        </div>
        <div class="modal-body">

          <!--选择用户-->
          <div class="modalTable SelectUser" style="display: none;text-align: center">
            <div class="users">

            </div>
            <div class="form-inline" style="text-align: center;margin: 20px 0">
              <label class="mylabel">转移次数</label>
              <div class="form-group">
                <input type="number" id="updateTimes" maxlength="5"
                  onkeydown="this.value=this.value.replace(/-/g,'');"
                  oninput="this.value=this.value.replace(/-/g,'');" class="form-control" placeholder="请输入转移次数">
                <label class="mylabel remaining"></label>
              </div>
            </div>
            <button style="margin: 10px 0;" type="button" class="btn btn-default" onclick="UpdateCertTimes()">提交
            </button>

          </div>
          <!--选择用户-->


          <!--证书颁发的设备-->
          <div class="modalTable termTable" style="display: none">
            <div class="showCert2Term" style="width: 100%;overflow: auto">
              <table class="table table-striped table-bordered">
                <thead>
                  <tr>
                    <!-- <th>#</th> -->
                    <th>类型</th> <!--    type-->
                    <th>CLI_ID</th> <!--  id-->
                    <!--<th>RandCode</th>              randcode-->
                    <th>硬件供应商</th> <!--     hardwareprovider-->
                    <th>硬件SN</th> <!--    hardwaresn-->
                    <th>硬件版本</th> <!--    hardwareversion-->
                    <th>软件供应商</th> <!--     softwareprovider-->
                    <th>软件版本</th> <!--    softwareversion-->
                    <th>CPU</th> <!--  cpu-->
                    <th>IMEI</th> <!--    imei-->
                    <th>MAC</th> <!--   mac-->
                    <th>系统ID</th> <!--    osid-->
                    <th>系统类型</th> <!--     ostype-->
                    <th>系统版本</th> <!--     osversion-->
                    <th>验证型号</th> <!--   modelnumber-->
                    <th>序列号</th> <!--   serialnumber-->
                    <!-- <th>SessionID</th>          sessionid-->
                    <!--<th>ClientHost</th>         -->
                    <th>描述</th>
                  </tr>
                </thead>
                <tbody>

                </tbody>
              </table>
            </div>
            <div class="certTermPager">
              <ul class="pager">
                <li><a href="javascript:;" onclick="getCerts2Term_list(0)">首页</a></li>
                <li><a href="javascript:;"
                    onclick="bindPager_Previous(currentCerts2TermPage,getCerts2Term_list)">上一页</a></li>
                <li><a href="javascript:;"
                    onclick="bindPager_Next(currentCerts2TermPage,currentCerts2TermPage_total,getCerts2Term_list)">下一页</a>
                </li>
                <li><a href="javascript:;" onclick="getCerts2Term_list(currentCerts2TermPage_total-1)">尾页</a></li>
              </ul>
            </div>
          </div>
          <!--证书颁发的设备结束-->


          <!--展示用户设备信息-->
          <div class="modalTable allTermTable" style="display: none">
            <style>
              .allTermTable .header {
                /*margin-top: -15px;*/
                display: flex;
                text-align: center;
                font-size: 16px;
                font-weight: 700;
                height: 40px;
                line-height: 40px;
              }

              .allTermTable .header .left {
                flex: 1;
              }

              .allTermTable .header .right {
                flex: 1;
              }

              .allTermTable .header a {
                width: 100%;
                display: block;
                height: 100%;
                border-radius: 4px;
              }

              .allTermTable .header a.active {
                background-color: #3c3c3c70;
              }

              .allTermTable .content {
                margin-top: 5px;
                width: 100%;
                height: 300px;
                /*background-color: red;*/
              }
            </style>
            <div class="header">
              <div class="left "><a class="tab active" href="javascript:;" onclick="getAuthTerm(this)"
                  data-bind=".authTerm">已授权</a></div>
              <div class="right "><a class="tab" href="javascript:;" onclick="getUnAuthTerm(this)"
                  data-bind=".un_authTerm">未授权</a></div>
            </div>
            <div class="content authTerm">
              <p>授权-的设备</p>
            </div>
            <div class="content un_authTerm" style="display: none">
              <!--未授权页面-->
              <style>
                /*未授权部分*/
                .un_authTerm .sort {
                  width: 100%;
                  border: 1px solid #cccccc;
                  padding: 10px 20px;
                }

                .un_authTerm .sort li {
                  float: left;
                  height: 30px;
                }

                .un_authTerm .sort ul li:nth-child(n+2) {
                  margin-left: 20px;
                }

                .un_authTerm .sort li a {
                  line-height: 30px;
                }

                .un_authTerm .sort ul li:nth-child(1) {
                  width: 100px;
                }

                .un_authTerm .sort ul li:nth-child(1) span {
                  text-align: left;
                  line-height: 30px;
                  color: #3c3c3c;
                }

                /*未授权部分*/
              </style>
              <section id="unauthorized">

                <div class="sort">
                  <div>
                    <ul class="clearfix typesort" data-bind="typesort">
                      <li><span>Type:</span></li>

                    </ul>
                  </div>
                  <div>
                    <ul class="clearfix hardwaresort" data-bind="hardwaresort">
                      <li><span>硬件供应商:</span></li>
                    </ul>
                  </div>
                  <div>
                    <ul class="clearfix softwaresort" data-bind="softwaresort">
                      <li><span>软件供应商:</span></li>
                    </ul>
                  </div>
                </div>
                <ol class="breadcrumb">
                  <li>所有分类</li>
                  <li class="active" data-bind="typesort" style="display: none"></li>
                  <li class="active" data-bind="hardwaresort" style="display: none"></li>
                  <li class="active" data-bind="softwaresort" style="display: none"></li>
                </ol>

                <div class="tablebox" style="width: 100%;height: 100%;overflow: auto;margin-bottom: 60px">

                  <table class="table table-striped table-bordered">
                    <thead>
                      <tr>
                        <th>#</th>
                        <th>类型</th> <!--    type-->
                        <th>ID</th> <!--  id-->
                        <th>RandCode</th> <!--   randcode-->
                        <th>硬件供应商</th> <!--     hardwareprovider-->
                        <th>硬件SN</th> <!--    hardwaresn-->
                        <th>硬件版本</th> <!--    hardwareversion-->
                        <th>软件供应商</th> <!--     softwareprovider-->
                        <th>软件版本</th> <!--    softwareversion-->
                        <th>CPU</th> <!--  cpu-->
                        <th>IMEI</th> <!--    imei-->
                        <th>MAC</th> <!--   mac-->
                        <th>系统ID</th> <!--    osid-->
                        <th>系统类型</th> <!--     ostype-->
                        <th>系统版本</th> <!--     osversion-->
                        <th>验证型号</th> <!--   modelnumber-->
                        <th>序列号</th> <!--   serialnumber-->
                        <th>SessionID</th> <!-- sessionid-->
                        <th>认证标签</th> <!-- userlabel-->
                        <th>客户端IP</th> <!-- clienthost-->
                        <th>描述</th>
                      </tr>
                    </thead>
                    <tbody>

                    </tbody>
                  </table>
                </div>

                <!--授权提示框-->
                <div class="unauth_modal fade bs-example-modal-lg" id="unauth_modal" tabindex="-1" role="dialog"
                  aria-labelledby="myLargeModalLabel">

                  <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content">
                      <div class="h2" style="text-align: center">授权</div>
                      <hr />
                      <!--<div class="progress" style="margin: 20px 20px">-->
                      <!--<div class="progress-bar progress-bar-success progress-bar-striped" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="">-->
                      <!--</div>-->
                      <!--</div>-->
                      <p>123</p>
                      <div class="modal-footer">
                        <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="auth_btn()">授权
                        </button>
                      </div>
                    </div>

                  </div>
                </div>
              </section>
              <!--未授权页面结束-->
            </div>
          </div>
          <!--展示用户设备信息结束-->

          <!--展示用户设备型号认证信息-->
          <div class="modalTable TermVerifyTable" style="display: none">
            <button type="button" id="addModuleVerify" class="btn"
              style="background: #222d32;color: #ffffff;margin-bottom: 20px" onclick="showAddModuleField_modal()">
              添加验证型号
            </button>
            <button type="button" class="btn" style="background: #222d32;color: #ffffff;margin-bottom: 20px"
              onclick="RemoveModuleField()"> 删除验证型号
            </button>
            <div class="showTermVerify" style="width: 100%;height: 100%;overflow: auto;margin-bottom: 60px">
              <table class="table table-striped table-bordered">
                <thead>
                  <tr>
                    <th>#</th>
                    <th>ModuleNumber</th>
                    <th>验证列表</th>
                  </tr>
                </thead>
                <tbody>

                </tbody>
              </table>
            </div>
          </div>
          <!--展示用户设备型号认证信息结束-->


        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" onclick="closeModal('#UserModal')">Close</button>
          <!--<button type="button" class="btn btn-primary">Save changes</button>-->
        </div>
      </div>
    </div>
  </div>
  <!-- 弹出框结束 -->

  <!--添加权限输入框-->
  <div class="modal fade" id="PermissionManage_Modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">

      <div class="modal-dialog modal-md" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" onclick="closeModal('#PermissionManage_Modal')" aria-label="Close"><span
                aria-hidden="true">&times;</span>
            </button>
            <h4 class="modal-title h4" id="SelectUserLabel" style="text-align: center">添加权限</h4>
          </div>
          <div class="modal-body">
              <div class="panel panel-default">
                  <!-- Default panel contents -->
                  <div class="panel-heading">添加权限</div>

                  <ul class="list-group permission" style="height:200px;overflow: auto">

                  </ul>
                </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" onclick="AddGroupPermission()">提交</button>
          </div>
        </div>
      </div>
    </div>
    <!--添加权限输入框-->




    <!--颁布证书提示输入框-->
    <div class="modal fade" id="AddCert" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">

      <div class="modal-dialog modal-md" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" onclick="closeModal('#AddCert')" aria-label="Close"><span
                aria-hidden="true">&times;</span>
            </button>
            <h4 class="modal-title h4" id="AddCertLabel" style="text-align: center">颁布证书</h4>
          </div>
          <div class="modal-body">
            <!-- <div class="form-inline">
            <label class="mylabel">证书类型</label><br>
            <select class="form-control addtermtype">
              <option value="PU     ">PU</option>
              <option value="MPU     ">MPU</option>
              <option value="CU      ">CU</option>
              <option value="CMS    ">CMS</option>
              <option value="UA     ">UA</option>
              <option value="MPU     ">MCU</option>
              <option value="MPUPro">MCUPro</option>
            </select>
        </div> -->
            <div class="form-inline">
              <label class="mylabel">选择证书类型</label><br>
              <div class="input-group addtermtype">
                <input type="text" disabled onkeyup="this.value=this.value.replace(/[^\w_]/g,'');" class="h34 form-control"
                  id="user_id" placeholder="请选择证书类型" />
                <div class="input-group-btn">
                  <button type="button" class="btn btn-default dropdown-toggle h34" data-toggle="dropdown"
                    aria-haspopup="true" aria-expanded="false">
                    <span class="caret"></span>
                  </button>
                  <ul class="dropdown-menu dropdown-menu-right">
                    <li data-bind="PU"><a href="javascript:;">PU</a></li>
                    <li data-bind="MCU"><a href="javascript:;">MCU</a></li>
                    <li data-bind="MCUPro"><a href="javascript:;">MCUPro</a></li>
                    <li data-bind="MCP"><a href="javascript:;">MCP</a></li>
                    <li data-bind="CU"><a href="javascript:;">CU</a></li>
                    <li data-bind="CMS"><a href="javascript:;">CMS</a></li>
                    <li data-bind="UA"><a href="javascript:;">UA</a></li>
                    <li data-bind="MPU"><a href="javascript:;">MPU</a></li>
                  </ul>
                </div>
              </div>
            </div>
            <div class="form-inline">
              <label for="Times" class="mylabel">证书授权次数</label><br>
              <input type="number" min="0" maxlength="4" onkeydown="this.value=this.value.replace(/-/g,'');"
                oninput="this.value=this.value.replace(/-/g,'');" class="form-control" id="Times" data-bind="#Times_pop"
                data-_msg="请输入证书授权次数" placeholder="请输入证书授权次数">
            </div>
            <div class="form-inline">
              <label class="mylabel">证书授权时效</label><br>
              <div class="form-group">
                <input type="number" min="0" maxlength="4" onkeydown="this.value=this.value.replace(/-/g,'');"
                  oninput="this.value=this.value.replace(/-/g,'');" class="form-control" id="yearduration"
                  placeholder="请输入证书授权时效(年)">
                <label class="mylabel">年</label>
              </div>
              <div class="form-group">
                <input type="number" min="0" maxlength="4" onkeydown="this.value=this.value.replace(/-/g,'');"
                  oninput="this.value=this.value.replace(/-/g,'');" class="form-control" id="dayduration"
                  data-bind="#dayduration_pop" data-_msg="请输入证书授权时效(可单选)" placeholder="请输入证书授权时效(日)">
                <label class="mylabel">日</label>

              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-success" onclick="AddCert_Modal()">提交</button>
          </div>
        </div>
      </div>
    </div>
    <!--颁布证书提示输入框-->

    <!--选择用户输入框-->
    <div class="modal fade" id="SelectUser" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">

      <div class="modal-dialog modal-md" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" onclick="closeSelectUser()" aria-label="Close"><span
                aria-hidden="true">&times;</span>
            </button>
            <h4 class="modal-title h4" id="SelectUserLabel" style="text-align: center">选择用户</h4>
          </div>
          <div class="modal-body">

          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" onclick="UpdateCertTimes()">提交</button>
          </div>
        </div>
      </div>
    </div>
    <!--选择用户输入框-->

  <!-- #################################################ScriptTemp############################################## -->


  <!-- 添加配置信息Select -->
  <script type="text/html" id="AddServerConfigSelect">
    <tr class="hideTr" style="display: none">
      <td>
        <select name="" class="selectserver input-sm">
          <option value="AAAServer">认证服务器</option>
          <option value="AAAServerProxy">代理服务器</option>
        </select>
      </td>
      <td>
        <!-- <select name="" class="ConfigKeySelectList input-sm">
          <option value="login_expire">login_expire</option>
        </select> -->
        <input type="text" class="input-sm input_addconfigkey" style="border: 1px solid #a9a9a9;"
          placeholder="请输入配置参数" />
      </td>
      <td>
        <input type="text" class="input-sm input_addconfigval" style="border: 1px solid #a9a9a9;"
          placeholder="请输入配置值" />
      </td>
      <td>
        <input type="text" class="input-sm input_desc" style="border: 1px solid #a9a9a9;"
          placeholder="请输描述信息" />
      </td>
      <td>
        <input type="button" class="btn btn-danger" value="删除" style="padding: 4px 12px"
          onclick="delServerConfigField(this)">
      </td>
    </tr>
      <tr>
        <td>
          <select name="" class="selectserver input-sm">
            <option value="AAAServer">认证服务器</option>
            <option value="AAAServerProxy">代理服务器</option>
          </select>
        </td>
        <td>
            <!-- <select name="" class="ConfigKeySelectList input-sm">
              <option value="login_expire">login_expire</option>
            </select> -->
            <!-- <input type="text" class="input-sm input_addconfigkey" style="border: 1px solid #a9a9a9;"
              placeholder="请输入配置参数" /> -->
              <div class="input-group">
                  <input type="text" class="input-sm input_addconfigkey form-control" style="border: 1px solid #a9a9a9;" placeholder="请输入配置参数">
                  <div class="input-group-btn">
                    <button type="button" class="btn btn-default dropdown-toggle"  data-toggle="dropdown" style="
                      width: 30px;
                      height: 30px;
                      line-height: 14px;
                      margin-left: -2px;
                      text-align: center;
                "><span class="caret"></span></button>
                    <ul class="dropdown-menu dropdown-menu-right">
                      <li><a href="javascript:;" data-bind="login_expire">login_expire</a></li>
                      <!-- <li role="separator" class="divider"></li> -->
                    </ul>
                  </div><!-- /btn-group -->
                </div><!-- /input-group -->

          </td>
          <td>
            <input type="text" class="input-sm input_addconfigval" style="border: 1px solid #a9a9a9;"
              placeholder="请输入配置值" />
          </td>
          <td>
            <input type="text" class="input-sm input_desc" style="border: 1px solid #a9a9a9;"
              placeholder="请输描述信息" />
          </td>
          <td>
            <input type="button" class="btn btn-danger" value="删除" style="padding: 4px 12px"
              onclick="delServerConfigField(this)">
        </td>
      </tr>
      <tr>
          <td colspan="5">
            <input type="button" class="btn btn-primary" value="添加一行" onclick="addTrField(this)">
          </td>
      </tr>
  </script>
  <!-- 添加配置信息Select -->

  <script id="ServerConfigTemp" type="text/html">
    {{each config_list as value i}}
        <tr>
          <!-- <td>{{value.server_type}}</td> -->
          <td>
            <span class="source">{{value.config_key}}</span>
            <input type="text" class="btn-sm edit"  style="margin: -8px 0;display: none;border: 1px solid #a9a9a9;" value="{{value.config_key}}">
          </td>
          <td>
            <span class="source">{{value.config_value}}</span>
            <input type="text" class="btn-sm edit"  style="margin: -8px 0;display: none;border: 1px solid #a9a9a9;" value="{{value.config_value}}">
          </td>
          <td>
            <span class="source">{{value.config_desc}}</span>
            <input type="text" class="btn-sm edit"  style="margin: -8px 0;display: none;border: 1px solid #a9a9a9;" value="{{value.config_desc}}">
            
          </td>
          <td  style="width:100px">
              <!-- <a href="javascript:;" id="test" class="source  btn-link btn-primary my-link" style="color:#3071A9"
               >编辑</a> -->
              <button href="javascript:;" class="source  btn "
               onclick="ShowEdit(this)">编辑</button> 
              <div class="edit" style="display: none">
                <button href="javascript:;" class=" btn btn-success" onclick="DoEdit(this,'{{value.item_id}}')">确认</button> |
                <button href="javascript:;" class=" btn btn-danger" onclick="HideEdit(this)">取消</button>
              </div>
          </td>
          <td  style="width:100px"><button href="javascript:;" class=" btn btn-danger" onclick="delConfig('{{value.item_id}}')">删除</button></td>
        </tr>
    {{/each}}
</script>

  <script id="usergrouplistTemp" type="text/html">
  {{each group_list as value i}}
      <tr>
        <td>{{value.name}}</td>
        <td>{{value.master_user}}</td>
        <td style="width:100px">
            <button href="javascript:;" class=" btn "  onclick="showUserGroupUserList('{{value.id}}','{{value.name}}')"
             >用户管理</button>
          </td>
        <td style="width:100px"><button href="javascript:;" class="btn  " onclick="showPermissionManage('{{value.id}}','{{value.name}}')">权限管理</button></td>
        <td style="width:100px"><button href="javascript:;" class="btn  btn-danger" onclick="del_group('{{value.id}}')">删除</button></td>
      </tr>
  {{/each}}
</script>
<!-- 用户组成员 -->
<script id="usermanageTemp" type="text/html">
  {{each user_list as value i}}
  <tr>
    <td>{{value.username}}</td>
    <td>{{value.nickname}}</td>
    <td>{{value.remark}}</td>
    <td>{{value.email}}</td>
    <td style="width:100px"><button href="javascript:;" class="btn btn-danger" onclick="remove_group('{{value.username}}')">移出群组</a></td>
  </tr>
  {{/each}}
</script>
<!-- 用户组成员 -->

 <!--certslist获取证书管理-->
 <script id="certslistTemp" type="text/html">
  {{each users as value}}
  <tr>
    <td>{{value.nickname?value.nickname:value.username}}</td>
    <td>{{value.username}}</td>
    <td>{{value.remark}}</td>
    <td style="width:150px"><button href="javascript:;" class="btn "  data-bind="{{value.username}}" data-userid="{{value.user_id}}"
            onclick="showUserCerts(this)">管理证书</button></td>
    <td style="width:150px"><button href="javascript:;" class="btn " data-bind="{{value.user_id}}" data-user="{{value.username}}"
            onclick="addUserCert(this)">颁布证书</button></td>
  </tr>
  {{/each}}
</script>
  <!--certslist获取证书管理-->

  <!--获取用户证书模板-->
  <script id="certList" type="text/html">
    <!--SerialNumber": "cert_deec7666ee6a11e8bcca0242ac110003",-->
    <!--"Type": "Registered",-->
    <!--"Mode": "UnKnowType",-->
    <!--"State": "Normal",-->
    <!--"Issuer_id": 3,-->
    <!--"IssueDate": "2018-11-22 15:25:40",-->
    <!--"ValidityBegin": "2018-11-22 15:25:40",-->
    <!--"ValidityEnd": "2038-11-17 15:25:40",-->
    <!--"IssueTimes": 1-->
    {{each certs as value i}}
    <tr>

      <td>{{value.SerialNumber}}</td>
      <td>{{value.IssueTermType}}</td>
      <td>
        <span>{{value.Type}}</span>
        <select style="display: none" name="Type" class="certType">
          <option value="Trial">Trial</option>
          <option value="Free">Free</option>
          <option value="Unregistered">Unregistered</option>
          <option value="Registered">Registered</option>
        </select>
      </td>
      <td style="display: none">
        <span>{{value.Mode}}</span>
        <select style="display: none" name="Mode" class="certMode">
          <option value="UnKnowType">UnKnowType</option>
        </select>
      </td>
      <td>
        <span>{{value.State}}</span>
        <select style="display: none" data-bind="{{value.ParentCert}}" name="State" class="certState">
          <option value="Normal">Normal</option>
          <option value="Revoke">Revoke</option>
        </select>
      </td>
      <td style="display: none">{{value.Issuer_id}}</td>
      <td>{{value.IssueDate}}</td>
      <td>
        <span>{{value.ValidityBegin}}</span>
        <input style="display: none" type="datetime-local" class="ValidityBegin" value="{{value.ValidityBegin_}}"/>
      </td>
      <td>
        <span>{{value.ValidityEnd}}</span>
        <input style="display: none" type="datetime-local" class="ValidityEnd" value="{{value.ValidityEnd_}}"/>
      </td>
      <td>{{value.IssueTimes}}</td>
      <td>{{value.MaxIssueTimes}}</td>
      <td style="display: none">{{value.ParentCert}}</td>
      <td>
        <!-- <input  type="button" value="修改"
                style="height: 20px;line-height: 20px;padding: 0 5px" class="" onclick="updateCert(this)"> -->

        <a href="javascript:;" class="my-link source updateCert" data-bind="{{value.SerialNumber}}" onclick="updateCert(this)">修改</a>
        &nbsp;
        <a href="javascript:;" class="my-link edit updateCert_cancel" style="display:none">取消</a>
      </td>
      <td>
        <a href="javascript:;" data-bind="{{value.SerialNumber}}"  class="my-link"  data-userid="{{userid}}"
                  onclick="showUpdateCertTimes(this)">选择用户</a>
      </td>
      <td>
          <a href="javascript:;" class="my-link" onclick="showTerminal('{{value.SerialNumber}}')">查看</a>
      </td>
      <td><a class="my-link" href="#" onclick="">查看</a></td>

    </tr>
    {{/each}}
    <tr>
  </script>
    <!--获取用户证书模板结束-->

    <!--获取证书颁布设备-->
    <script id="termList" type="text/html">
    {{each terminals as value i}}
    <tr>
      <!-- <td><input type="checkbox" name="done" data-sessionid=""></td> -->
      <td>{{value.Type}}</td>
      <td>{{value.CLI_ID}}</td>
      <!--<td>{{value.randcode}}</td>-->
      <td>{{value.HardwareProvider}}</td>
      <td>{{value.HardwareSN}}</td>
      <td>{{value.HardwareVersion}}</td>
      <td>{{value.SoftwareProvider}}</td>
      <td>{{value.SoftwareVersion}}</td>
      <td>{{value.CPU}}</td>
      <td>{{value.IMEI}}</td>
      <td>{{value.MAC}}</td>
      <td>{{value.OSID}}</td>
      <td>{{value.OSType}}</td>
      <td>{{value.OSVersion}}</td>
      <td>{{value.ModuleNumber}}</td>
      <td>{{value.SerialNumber}}</td>
      <!--<td>{{value.sessionid}}</td>-->
      <!--<td>{{value.clienthost}}</td>-->
      <td>{{value.Desc}}</td>
    </tr>
    {{/each}}
  </script>
    <!--获取证书颁布设备结束-->

    <!--选择用户-->
    <script id="Select_usersList" type="text/html">
    <div class="form-inline" style="text-align: center">
      <div class="input">
        <label class="mylabel">选择用户</label>
        <div class="input-group">
          <input type="text" onkeyup="this.value=this.value.replace(/[^\w_]/g,'');"
                class="h34 form-control" id="user_id" placeholder="请选择用户"/>
          <div class="input-group-btn">
            <button type="button" class="btn btn-default dropdown-toggle h34" data-toggle="dropdown"
                    aria-haspopup="true" aria-expanded="false">
              <span class="caret"></span>
            </button>
            <ul class="dropdown-menu dropdown-menu-right">
      {{each users as value}}
              <li data-bind="{{value.user_id}}"><a href="#">{{value.username}}</a></li>
      {{/each}}
            </ul>
          </div>
        </div>
      </div>
    </div>
  </script>
    <!--选择用户结束-->

  <!-- #################################################ScriptTemp############################################## -->


  <script src="/static/js/bootstrap.min.js"></script>
  <script src="/static/js/template.js"></script>
  <script src="/static/js/jquery.qrcode.min.js"></script>
  <script src="/static/js/adminmanage.js"></script>
</body>

</html>