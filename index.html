<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>终端管理</title>
  <link rel="stylesheet" href="/static/css/bootstrap.min.css">
  <link rel="stylesheet" href="/static/css/base.css">
  <link rel="stylesheet" href="/static/css/font-awesome.css">
  <link rel="stylesheet" href="/static/css/sidebar-menu.css">

  <style type="text/css">

    .search {
      width: 40%;
      margin: 0 auto;
      margin-bottom: 10px;
      position: relative;
    }

    .search .fa-remove {
      position: absolute;
      right: 58px;
      bottom: 10px;
      z-index: 4;
      color: #f40;
    }

    .breadcrumb .Receive {
      cursor: pointer;
      margin-top: -5.5px;
      margin-right: -14px;
      border: solid 1px #d0cccc;
      padding: 3px 5px;
      background-color: #f6f6f6;
      color: #6b6b6b;
    }

    .breadcrumb .Receive:hover {
      color: #f40;
    }

    .breadcrumb .Receive > span {
      line-height: 19px;
      color: #6b6b6b;
    }

    /*底部授权*/
    div.bottom {
      width: 100%;
      padding: 0 0 0 230px;
      position: fixed;
      bottom: 0;
      left: 0;
    }

    .account {
      position: relative;
      height: 60px;
      width: 100%;
      padding-right: 20px;
      /*background: rgba(0, 0, 0, .5);*/
      background-color: #222d32;
    }

    .btn-group-lg > .btn, .btn-lg {
      padding: 5px 6px;

    }

    .account .fl {
      padding-left: 20px;
      height: 60px;
      line-height: 60px;
    }

    .account .fl input {
      margin-right: 10px;
    }

    .account .fl span {
      font-size: 16px;
      color: #ffffff;
    }

    a.authorize {
      margin-top: 10px;
      display: block;
      width: auto;
      height: 40px;
      line-height: 40px;
      padding: 0 30px;

      background-color: #5880ff;
      border-radius: 10px;
      font-size: 16px;
      color: #ffffff;
    }

    .authorize:hover {
      color: #ffffff;
    }

    /*底部授权*/


    /*提示框时间*/

    /*在线设备分页部分*/
    .del_online_pager {
      padding: 0 10px 0 240px;
      position: fixed;
      bottom: 0;
      left: 0;
      height: 60px;
      width: 100%;
    }

    .Auth_pager {
      padding: 0 10px 0 240px;
      position: fixed;
      bottom: 0;
      left: 0;
      height: 60px;
      width: 100%;
    }

    .terminal {
      background: rgba(66, 66, 66, .8);
      position: fixed;
      width: 100%;
      height: 100%;
      z-index: 99999
    }

    .terminal>.terminal_content{
      position: fixed;
      transform: translateX(-50%);
      left:50%;
      top:50px;
      width: 600px;
      padding: 50px 0px 0;

      height: 500px;
      background-color: rgba(0, 0, 0, .0);
    }
    .terminal>.terminal_content>.hd{
      cursor: move;
      height: 30px;
      background-color: #E5E5E5;
      border: 1px solid #C3C5C6;
    }
    .terminal>.terminal_content>.hd>.fr{
      height: 100%;
      padding: 0px 6px;
      border-left:  1px solid #C3C5C6;
    }
    .terminal>.terminal_content>.body{
      width: 100%;
      height: 100%;
      background-color: #000000;
      color: #ffffff;
    }
    .terminal>.terminal_content>.body>p{
      display: flex;
      height: 25px;
      line-height: 25px;
    }
    .terminal>.terminal_content>.body>p>input{
      flex: 1;
      margin-left: 5px;
      color: #ffffff;
      height: 25px;
      background: #000000;
      border: none;
      outline: none;
    }
    /*在线设备分页部分*/
  </style>


  <!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
  <![endif]-->
  <script src="//cdn.jsdelivr.net/npm/bluebird@3.5.3/js/browser/bluebird.min.js"></script>
  <script src="/static/js/jquery.min.js"></script>
  <script src="/static/js/jquery.cookie.js"></script>
  <script src="/static/js/bprotocol.js"></script>
  <script src="/static/js/conf.js"></script>


  <script src="/static/js/sidebar-menu.js"></script>
  <script src="/static/js/base.js"></script>

</head>
<body>
<aside class="main-sidebar">
  <section class="sidebar">
    <ul class="sidebar-menu">
      <li class="header">管理系统</li>
      <!--授权管理-->
      <li class="treeview active">
        <a href="javascript:;">
          <i class="fa fa-window-restore"></i>
          <span>终端管理</span>
          <i class="fa fa-angle-down pull-right"></i>
        </a>
        <ul class="treeview-menu menu-open">
          <li><a href="#unauthorizedPage" onclick="changeContent(this)" data-bind="#unauthorized"><i
                  class="fa fa-circle-o"></i> 未授权终端 </a></li>
          <li><a href="#authorizedPage" onclick="changeContent(this)" data-bind="#authorized"><i
                  class="fa fa-circle-o"></i>
            已授权终端 </a></li>
          <li><a href="#onlineTerminalPage" onclick="changeContent(this)" data-bind="#onlineTerminal"><i
                  class="fa fa-circle-o"></i> 在线终端 </a></li>
          <li><a href="#TerminalVerifyPage" onclick="changeContent(this)" data-bind="#TerminalVerify"><i
                  class="fa fa-circle-o"></i> 设备型号验证 </a></li>
        </ul>
      </li>
      <!--授权管理-->

      <!--CMS管理-->
      <li class="treeview">
        <a href="CmsManage.html">
          <i class="fa fa-briefcase"></i>
          <span>CMS管理</span>
          <i class="fa fa-angle-right pull-right"></i>
        </a>
        <ul class="treeview-menu menu-open">
          <li><a href="#cmslist" onclick="changeContent(this)" data-bind="#cmslist"><i class="fa fa-circle-o"></i> CMS设备
          </a></li>
          <li><a href="#black_white" onclick="changeContent(this)" data-bind="#black_white"><i
                  class="fa fa-circle-o"></i> 黑白名单管理 </a></li>
        </ul>
      </li>
      <!--CMS管理-->

      <!--证书管理-->
      <li class="treeview">
        <a href="CertManage.html">
          <i class="fa fa-book"></i>
          <span>证书管理</span>
          <i class="fa fa-angle-right pull-right"></i>
        </a>
        <ul class="treeview-menu" style="display: none;">
          <li><a href="#"><i class="fa fa-circle-o"></i> 用户列表 </a></li>
        </ul>
      </li>
      <!--证书管理-->

      <!--认证标签管理-->
      <li class="treeview">
        <a href="LabelManage.html">
          <i class="fa fa-tags"></i>
          <span>认证标签管理</span>
          <i class="fa fa-angle-right pull-right"></i>
        </a>
        <ul class="treeview-menu" style="display: none;">
          <li><a href="#"><i class="fa fa-circle-o"></i> 用户列表 </a></li>

        </ul>
      </li>
      <!--认证标签管理-->

      <!--用户管理-->
      <li class="treeview">
        <a href="UserManage.html">
          <i class="fa fa-user-o"></i>
          <span>用户管理</span>
          <i class="fa fa-angle-right pull-right"></i>
        </a>
        <ul class="treeview-menu" style="display: none;">
          <li><a href="#"><i class="fa fa-circle-o"></i> 用户列表</a></li>
        </ul>
      </li>
      <!--用户管理-->
    </ul>
  </section>
</aside>

<section class="main-content">
  <style>
    .main-content > header {
      width: 100%;
      height: 60px;
      background: #1a2226;
    }

    .main-content > header > ul {
      margin-right: 30px;
      float: right;
    }

    .main-content > header li {
      float: left;
    }

    .main-content > header > ul > li > a {
      display: block;
      height: 60px;
      padding: 10px 25px 10px 15px;
      font-size: 16px;
      line-height: 40px;
      font-weight: 700;
      color: #4b646f;

    }

    .main-content > header > ul > li:last-child {
      position: relative;
    }

    li.user:hover .a_list {
      display: block;
    }

    .a_list {
      display: none;
      padding: 5px 0;
      position: absolute;
      right: 0;
      border: 1px solid #cccccc;
      border-radius: 3px;
      top: 56px;
      background-color: #fff;
      width: 100%;

    }

    .a_list li {
      width: 100%;

    }

    .a_list li:hover {
      background-color: #cccccc;
    }

    .a_list li > a {
      display: block;
      height: 30px;
      color: #000;
      line-height: 30px;
      font-size: 14px;
      width: 100%;
      text-align: center;

    }
  </style>
  <header>
    <ul class="clearfix">
      <li><a href="#">Test</a></li>
      <li class="user"><a href="#" id="username" data-toggle="dropdown" style="color:#1a2226">用户名 <i
              class="fa fa-angle-down"></i></a>
        <ul class="a_list">
          <li><a href="javascript:;" onclick="fun_api_logout()">退出</a></li>
        </ul>
      </li>
    </ul>
  </header>

  <!--未授权页面-->
  <section class="content" id="unauthorized">

    <div style="text-align: center;font-size: 30px;font-weight:bold;margin: 10px 0;color: #3c3c3c;">未授权设备</div>

    <div class="search">
      <div class="input-group">
        <div class="input-group-btn">
          <button type="button" class="btn  btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true"
                  aria-expanded="false"><span class="text">请选择</span> <span class="caret"></span></button>
          <ul class="dropdown-menu">
            <li onclick="SearchSelect(this)" class="clearSelect"><a href="javascript:;" data-bind="">请选择</a></li>
            <li onclick="SearchSelect(this)"><a href="javascript:;" data-bind="serialnumber">序列号</a></li>
            <li onclick="SearchSelect(this)"><a href="javascript:;" data-bind="mac">MAC</a></li>
            <li onclick="SearchSelect(this)"><a href="javascript:;" data-bind="cli_id">ID</a></li>
            <li onclick="SearchSelect(this)"><a href="javascript:;" data-bind="type">类型</a></li>
            <li onclick="SearchSelect(this)"><a href="javascript:;" data-bind="modulenumber">型号验证</a></li>
            <li onclick="SearchSelect(this)"><a href="javascript:;" data-bind="imei">IMEI</a></li>
            <li onclick="SearchSelect(this)"><a href="javascript:;" data-bind="hardwareprovider">硬件供应商</a></li>
            <li onclick="SearchSelect(this)"><a href="javascript:;" data-bind="hardwaresn">硬件SN</a></li>
            <li onclick="SearchSelect(this)"><a href="javascript:;" data-bind="softwareprovider">软件供应商</a></li>
            <li onclick="SearchSelect(this)"><a href="javascript:;" data-bind="ostype">系统类型</a></li>
            <li onclick="SearchSelect(this)"><a href="javascript:;" data-bind="osid">系统ID</a></li>
            <li onclick="SearchSelect(this)"><a href="javascript:;" data-bind="userlabel">用户认证标签</a></li>
          </ul>
        </div><!-- /btn-group -->
        <span class="fa fa-remove " onclick="remove_input(this)" data-info="unauthorized"
              style="position: absolute;"></span>
        <input type="text" class="form-control" placeholder="请输入搜索内容">
        <span class="input-group-btn">
        <button class="btn btn-default search-btn" type="button" data-bind=" " data-info="unauthorized"
                onclick="btn_search(this)">搜索</button>
      </span>
      </div><!-- /input-group -->
    </div>
    <div class="sort">
      <div>
        <ul class="clearfix typesort" data-bind="typesort">
          <li><span>类型:</span></li>

        </ul>
      </div>
      <div>
        <ul class="clearfix hardwaresort" data-bind="hardwaresort">
          <li><span>硬件供应商:</span></li>
        </ul>
      </div>
      <div>
        <ul class="clearfix softwaresort" data-bind="softwaresort">
          <li><span>软件供应商:</span></li>
        </ul>
      </div>
    </div>
    <ol class="breadcrumb">
      <li>所有分类</li>
      <li class="active" data-bind="typesort" data-info="type" style="display: none"></li>
      <li class="active" data-bind="hardwaresort" data-info="hardwareprovider" style="display: none"></li>
      <li class="active" data-bind="softwaresort" data-info="softwareprovider" style="display: none"></li>
      <li class="Receive fr" onclick="Receive(this)">收起筛选<span class="fa fa-angle-up pull-right"
                                                               aria-hidden="true"></span></li>
    </ol>

    <div class="tablebox" style="width: 100%;height: 100%;overflow: auto;transition: all 0.5s ease 0s;">

      <table class="table table-bordered">
        <thead>
        <tr>
          <th>#</th>
          <th>类型</th>               <!--    type-->
          <th>ID</th>                 <!--  id-->
          <th>RandCode</th>           <!--   randcode-->
          <th>状态</th>           <!--   randcode-->
          <th>注册时间</th>           <!--   randcode-->
          <th>描述</th>
          <th>硬件供应商</th>              <!--     hardwareprovider-->
          <th>硬件SN</th>               <!--    hardwaresn-->
          <th class="table_td" style="max-width:60px">硬件版本</th>               <!--    hardwareversion-->
          <th>软件供应商</th>              <!--     softwareprovider-->
          <th>软件版本</th>               <!--    softwareversion-->
          <th>CPU</th>                 <!--  cpu-->
          <th>IMEI</th>               <!--    imei-->
          <th>MAC</th>                <!--   mac-->
          <th>系统ID</th>              <!--    osid-->
          <th>系统类型</th>             <!--     ostype-->
          <th>系统版本</th>         <!--     osversion-->
          <th>型号验证</th>               <!--   modelnumber-->
          <th>序列号</th>             <!--   serialnumber-->
          <th>SessionID</th>          <!-- sessionid-->
          <th>用户认证标签</th>          <!-- userlabel-->
          <th>客户端IP</th>          <!-- clienthost-->
        </tr>
        </thead>
        <tbody>

        </tbody>
      </table>


    </div>
    <div class="bottom">
      <div class="UnAuth_pager" style="margin-bottom: 10px">

        <ul class="pager" style="margin-bottom: 0">
          <li>
            <select name="currentUnAuthTermPageSize" data-bind="fun_get_register_list" class="pageSelect input-sm">
              <option value="10">10条/页</option>
              <option value="20">20条/页</option>
              <option value="30">30条/页</option>
              <option value="40">40条/页</option>
              <option value="50">50条/页</option>
            </select>
          </li>
          <li><a href="javascript:;" onclick="getUnAuthTerm_list(0)">首页</a></li>
          <li><a href="javascript:;" onclick="bindPager_Previous(currentUnAuthTermPage,getUnAuthTerm_list)">上一页</a></li>
          <li><a href="javascript:;"
                 onclick="bindPager_Next(currentUnAuthTermPage,currentUnAuthTermPage_total,getUnAuthTerm_list)">下一页</a>
          </li>
          <li><a href="javascript:;" onclick="getUnAuthTerm_list(currentUnAuthTermPage_total-1)">尾页</a></li>
        </ul>

      </div>

      <!--底部授权部分-->
      <div class="account" style="display: none">

        <div class="fl">
          <input type="checkbox" name="allcheck" class="allcheck" id="allcheck"/><span>全选/全不选</span>&nbsp;&nbsp;
          <span class="checkNum" style="visibility: hidden">已选</span>

        </div>
        <div class="fr">
          <a class="authorize" onclick="auth_delete()" href="javascript:;"
             style="float: left;background-color:#b75050;margin-right: 10px">删除</a>
          <a class="authorize" onclick="auth_show()" href="javascript:;" style="float: left">授权</a>
        </div>

      </div>
      <!--底部授权部分结束-->
    </div>

    <!--授权提示框-->

    <div class="modal fade" id="AuthModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">

      <div class="modal-dialog modal-md" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" onclick="closeModal('#AuthModal')" aria-label="Close"><span
                    aria-hidden="true">&times;</span></button>
            <h4 class="modal-title h2" id="AuthCertLabel" style="text-align: center">管理员授权</h4>
          </div>
          <div class="modal-body">
            <div class="auth_modal adminAuth" style="display: none">
              <div class="form-inline" style="text-align: center">
                <label class="mylabel">证书授权时效</label>
                <div class="form-group">
                  <input type="number" class="form-control" id="year" placeholder="请输入证书授权时效(年)">
                  <label class="mylabel">年</label>
                </div>
                <div class="form-group">
                  <input type="number" class="form-control" id="day" data-bind="#dayduration_pop"
                         data-msg="请输入证书授权时效(可单选)" placeholder="请输入证书授权时效(日)">
                  <label class="mylabel">日</label>
                </div>
              </div>
            </div>

            <div class="auth_modal otherAuth" style="display: none">
              <div class="form-inline" style="text-align: center">
                <div class="cert_input">
                  <label class="mylabel"><span>&nbsp;&nbsp;</span>证书ID</label>
                  <div class="input-group">
                    <input type="text" onkeyup="this.value=this.value.replace(/[^\w_]/g,'');"
                           class="h34 form-control w320" id="cert_id" placeholder="请输入证书编号"/>
                    <div class="input-group-btn">
                      <button type="button" class="btn btn-default dropdown-toggle h34" data-toggle="dropdown"
                              aria-haspopup="true" aria-expanded="false">
                        <span class="caret"></span>
                      </button>
                      <ul class="dropdown-menu dropdown-menu-right">
                        <!--<li><a href="#">Action</a></li>-->
                        <!--<li><a href="#">Another action</a></li>-->
                        <!--<li><a href="#">Something else here</a></li>-->
                        <!--<li role="separator" class="divider"></li>-->
                        <!--<li><a href="#">Separated link</a></li>-->
                      </ul>
                    </div>
                  </div>
                </div>
                <div class="label_input" style="margin-top: 10px">
                  <label class="mylabel">认证标签</label>
                  <div class="input-group">
                    <input type="text" onkeyup="this.value=this.value.replace(/[^\w_]/g,'');"
                           class="w320 h34 form-control" id="label_id" placeholder="请输入认证标签"/>
                    <div class="input-group-btn">
                      <button type="button" style="margin-left: -5px" class="btn btn-default dropdown-toggle h34"
                              data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <span class="caret"></span>
                      </button>
                      <ul class="dropdown-menu dropdown-menu-right">

                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" onclick="auth_btn()">授权</button>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!--未授权页面结束-->

  <!--授权页面-->
  <section class="content" id="authorized" style="display: none">
    <div style="text-align: center;font-size: 30px;font-weight:bold;margin: 10px 0;color: #3c3c3c;">已授权设备</div>

    <div class="search">
      <div class="input-group">
        <div class="input-group-btn">
          <button type="button" class="btn  btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true"
                  aria-expanded="false"><span class="text">请选择</span> <span class="caret"></span></button>
          <ul class="dropdown-menu">
            <li onclick="SearchSelect(this)" class="clearSelect"><a href="javascript:;" data-bind="">请选择</a></li>
            <li onclick="SearchSelect(this)"><a href="javascript:;" data-bind="serialnumber">序列号</a></li>
            <li onclick="SearchSelect(this)"><a href="javascript:;" data-bind="mac">MAC</a></li>
            <li onclick="SearchSelect(this)"><a href="javascript:;" data-bind="cli_id">ID</a></li>
            <li onclick="SearchSelect(this)"><a href="javascript:;" data-bind="type">类型</a></li>
            <li onclick="SearchSelect(this)"><a href="javascript:;" data-bind="modulenumber">型号验证</a></li>
            <li onclick="SearchSelect(this)"><a href="javascript:;" data-bind="imei">IMEI</a></li>
            <li onclick="SearchSelect(this)"><a href="javascript:;" data-bind="hardwareprovider">硬件供应商</a></li>
            <li onclick="SearchSelect(this)"><a href="javascript:;" data-bind="hardwaresn">硬件SN</a></li>
            <li onclick="SearchSelect(this)"><a href="javascript:;" data-bind="softwareprovider">软件供应商</a></li>
            <li onclick="SearchSelect(this)"><a href="javascript:;" data-bind="ostype">系统类型</a></li>
            <li onclick="SearchSelect(this)"><a href="javascript:;" data-bind="osid">系统ID</a></li>
            <li onclick="SearchSelect(this)"><a href="javascript:;" data-bind="userlabel">用户认证标签</a></li>
          </ul>
        </div><!-- /btn-group -->
        <span class="fa fa-remove " onclick="remove_input(this)" data-info="authorized"
              style="position: absolute;"></span>
        <input type="text" class="form-control " placeholder="请输入搜索内容">
        <span class="input-group-btn">
        <button class="btn btn-default search-btn" type="button" data-bind=" " data-info="authorized"
                onclick="btn_search(this)">搜索</button>
      </span>
      </div><!-- /input-group -->
    </div>

    <div class="sort" >
      <div>
        <ul class="clearfix typesort" data-bind="typesort">
          <li><span>类型:</span></li>

        </ul>
      </div>
      <div>
        <ul class="clearfix labelsort" data-bind="labelsort">
          <li><span>标签:</span></li>
        </ul>
      </div>
      <div>
        <ul class="clearfix hardwaresort" data-bind="hardwaresort">
          <li><span>硬件供应商:</span></li>
        </ul>
      </div>
    </div>
    <ol class="breadcrumb">
      <li>所有分类</li>
      <li class="active" data-bind="typesort" data-info="type" style="display: none"></li>
      <li class="active" data-bind="labelsort" data-info="userlabel" style="display: none"></li>
      <li class="active" data-bind="hardwaresort" data-info="hardwareprovider" style="display: none"></li>
      <li class="Receive fr" onclick="Receive(this)">收起筛选<span class="fa fa-angle-up pull-right"
                                                               aria-hidden="true"></span></li>
    </ol>

    <div class="tablebox_authterm" style="width: 100%;overflow: auto;transition: all 0.5s ease 0s;">
      <table class="table table-bordered">
        <thead>
        <tr>
          <!--<th>#</th>-->
          <th>类型</th>               <!--    type-->
          <th>ID</th><!--  id-->
          <!--<th>RandCode</th>           &lt;!&ndash;   randcode&ndash;&gt;-->
          <th>描述</th>                 <!--  desc-->
          <th>型号验证</th>               <!--   modelnumber-->
          <th>序列号</th>             <!--   serialnumber-->
          <th>硬件供应商</th>              <!--     hardwareprovider-->
          <th>硬件SN</th>               <!--    hardwaresn-->
          <th>硬件版本</th>               <!--    hardwareversion-->
          <th>软件供应商</th>              <!--     softwareprovider-->
          <th>软件版本</th>               <!--    softwareversion-->
          <th>用户标签</th>               <!--UserLabel-->
          <th>CPU</th>                 <!--  cpu-->
          <th>IMEI</th>               <!--    imei-->
          <th>MAC</th>                <!--   mac-->
          <th>系统ID</th>              <!--    osid-->
          <th>系统类型</th>             <!--     ostype-->
          <th>系统版本</th>         <!--     osversion-->

          <!--<th>SessionID</th>          &lt;!&ndash; sessionid&ndash;&gt;-->
          <!--<th>用户认证标签</th>        &lt;!&ndash; userlabel&ndash;&gt;-->
          <!--<th>客户端IP</th>         &lt;!&ndash; clienthost&ndash;&gt;-->
        </tr>
        </thead>
        <tbody>

        </tbody>
      </table>
    </div>

    <div class="Auth_pager" style="height: 60px;">

      <ul class="pager" style="margin-bottom: 0">
        <li>
          <select name="currentAuthTermPageSize" data-bind="fun_get_authterm_list" class="pageSelect input-sm">
            <option value="10">10条/页</option>
            <option value="20">20条/页</option>
            <option value="30">30条/页</option>
            <option value="40">40条/页</option>
            <option value="50">50条/页</option>
          </select>
        </li>
        <li><a href="javascript:;" onclick="getAuthTerm_list(0)">首页</a></li>
        <li><a href="javascript:;" onclick="bindPager_Previous(currentAuthTermPage,getAuthTerm_list)">上一页</a></li>
        <li><a href="javascript:;"
               onclick="bindPager_Next(currentAuthTermPage,currentAuthTermPage_total,getAuthTerm_list)">下一页</a></li>
        <li><a href="javascript:;" onclick="getAuthTerm_list(currentAuthTermPage_total-1)">尾页</a></li>
      </ul>

    </div>
  </section>
  <!--授权页面结束-->

  <!--在线设备页面-->
  <section class="content" id="onlineTerminal" style="display: none">
    <div class="online_content table_content ">
      <!--<span class="pull-right"-->
      <!--style="height: 40px;font-size: 20px;line-height: 40px;padding-right: 20px">总在线设备:100</span>-->
      <div style="text-align: center;font-size: 30px;font-weight:bold;margin: 10px 0;color: #3c3c3c;">所有在线设备</div>

      <div class="search" style="position: relative">
        <div class="input-group">
          <div class="input-group-btn">
            <button type="button" class="btn  btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true"
                    aria-expanded="false"><span class="text">请选择</span> <span class="caret"></span></button>
            <ul class="dropdown-menu">
              <li onclick="SearchSelect(this)" class="clearSelect"><a href="javascript:;" data-bind="">请选择</a></li>
              <li onclick="SearchSelect(this)"><a href="javascript:;" data-bind="serialnumber">序列号</a></li>
              <li onclick="SearchSelect(this)"><a href="javascript:;" data-bind="mac">MAC</a></li>
              <li onclick="SearchSelect(this)"><a href="javascript:;" data-bind="cli_id">ID</a></li>
              <li onclick="SearchSelect(this)"><a href="javascript:;" data-bind="type">类型</a></li>
              <li onclick="SearchSelect(this)"><a href="javascript:;" data-bind="modulenumber">型号验证</a></li>
              <li onclick="SearchSelect(this)"><a href="javascript:;" data-bind="imei">IMEI</a></li>
              <li onclick="SearchSelect(this)"><a href="javascript:;" data-bind="hardwareprovider">硬件供应商</a></li>
              <li onclick="SearchSelect(this)"><a href="javascript:;" data-bind="hardwaresn">硬件SN</a></li>
              <li onclick="SearchSelect(this)"><a href="javascript:;" data-bind="softwareprovider">软件供应商</a></li>
              <li onclick="SearchSelect(this)"><a href="javascript:;" data-bind="ostype">系统类型</a></li>
              <li onclick="SearchSelect(this)"><a href="javascript:;" data-bind="osid">系统ID</a></li>
              <li onclick="SearchSelect(this)"><a href="javascript:;" data-bind="userlabel">用户认证标签</a></li>
            </ul>
          </div><!-- /btn-group -->
          <span class="fa fa-remove " onclick="remove_input(this)" data-info="onlineTerminal"
                style="position: absolute;"></span>
          <input type="text" class="form-control " placeholder="请输入搜索内容">

          <span class="input-group-btn">
            <button class="btn btn-default search-btn" type="button" data-bind="" data-info="onlineTerminal"
                    onclick="btn_search(this)">搜索</button>
          </span>
        </div><!-- /input-group -->
      </div>
      <div class="sort" >
        <div>
          <ul class="clearfix typesort" data-bind="typesort">
            <li><span>类型:</span></li>

          </ul>
        </div>
        <div>
          <ul class="clearfix labelsort" data-bind="labelsort">
            <li><span>标签:</span></li>
          </ul>
        </div>
        <div>
          <ul class="clearfix hardwaresort" data-bind="hardwaresort">
            <li><span>硬件供应商:</span></li>
          </ul>
        </div>
      </div>
      <ol class="breadcrumb">
        <li>所有分类</li>
        <li class="active" data-bind="typesort" data-info="type" style="display: none"></li>
        <li class="active" data-bind="labelsort" data-info="userlabel" style="display: none"></li>
        <li class="active" data-bind="hardwaresort" data-info="hardwareprovider" style="display: none"></li>
        <li class="Receive fr" onclick="Receive(this)">收起筛选<span class="fa fa-angle-up pull-right"
                                                                 aria-hidden="true"></span></li>
      </ol>
      <!--<div class="head clearfix" style="padding-right: 20px">-->

      <!---->
      <!--</div>-->
      <div class="tablebox_online" style="width: 100%;overflow: auto;transition: all 0.5s ease 0s;">
        <!--<button type="button" class="btn"-->
        <!--style="background: #222d32;color: #ffffff;margin-bottom: 20px" onclick="">发送命令-->
        <!--</button>-->

        <table class="table table-bordered">
          <thead>
          <tr>
            <th>#</th>
            <th>类型</th>               <!--    type-->
            <th>ID</th><!--  id-->
            <!--<th>RandCode</th>           &lt;!&ndash;   randcode&ndash;&gt;-->
            <th>描述</th>                 <!--  desc-->
            <th>型号验证</th>               <!--   modelnumber-->
            <th>序列号</th>             <!--   serialnumber-->
            <th>硬件供应商</th>              <!--     hardwareprovider-->
            <th>硬件SN</th>               <!--    hardwaresn-->
            <th>硬件版本</th>               <!--    hardwareversion-->
            <th>软件供应商</th>              <!--     softwareprovider-->
            <th>软件版本</th>               <!--    softwareversion-->
            <th>用户标签</th>               <!--UserLabel-->
            <th>CPU</th>                 <!--  cpu-->
            <th>IMEI</th>               <!--    imei-->
            <th>MAC</th>                <!--   mac-->
            <th>系统ID</th>              <!--    osid-->
            <th>系统类型</th>             <!--     ostype-->
            <th>系统版本</th>         <!--     osversion-->

            <!--<th>SessionID</th>          &lt;!&ndash; sessionid&ndash;&gt;-->
            <!--<th>用户认证标签</th>        &lt;!&ndash; userlabel&ndash;&gt;-->
            <!--<th>客户端IP</th>         &lt;!&ndash; clienthost&ndash;&gt;-->
          </tr>
          </thead>
          <tbody>

          </tbody>
        </table>
      </div>

      <div class="bottom">
        <div class="online_pager">

          <ul class="pager" style="margin-bottom: 10px">

            <li>
              <select name="currentOnlineTermPageSize" data-bind="fun_get_online_terminal_list"
                      class="pageSelect input-sm">
                <option value="10">10条/页</option>
                <option value="20">20条/页</option>
                <option value="30">30条/页</option>
                <option value="40">40条/页</option>
                <option value="50">50条/页</option>
              </select>
            </li>

            <li><a href="javascript:;" onclick="getOnlineTerm_list(0)">首页</a></li>
            <li><a href="javascript:;" onclick="bindPager_Previous(currentOnlineTermPage,getOnlineTerm_list)">上一页</a>
            </li>
            <li><a href="javascript:;"
                   onclick="bindPager_Next(currentOnlineTermPage,currentOnlineTermPage_total,getOnlineTerm_list)">下一页</a>
            </li>
            <li><a href="javascript:;" onclick="getOnlineTerm_list(currentOnlineTermPage_total-1)">尾页</a></li>
          </ul>

        </div>

        <!--底部发送信息部分-->
        <div class="account" style="display: none">

          <div class="fl">
            <input type="checkbox" name="allcheck" class="allcheck"/><span>全选/全不选</span>&nbsp;&nbsp;
            <span class="checkNum" style="visibility: hidden">已选</span>
          </div>
          <!--<textarea type="text" class="ta_msg form-control"-->
          <!--placeholder="请输入发送信息"-->
          <!--style="width: 500px;margin-top:13px;position: absolute;top:0;right: 50%;transform:translateX(50%)"></textarea>-->
          <div class="fr">
            <a class="authorize" style="float: left" onclick="exec_show()" href="javascript:;">发送信息2</a>
          </div>

        </div>
        <!--底部发送信息部分结束-->
      </div>
    </div>

    <div class="online_content exec_content" style="display: none">
      <div class="head">
        <div class="back" onclick="Back('#onlineTerminal .exec_content','#onlineTerminal .table_content')">
              <span class="fa fa-angle-left pull-left"
                    style="font-size: 30px;line-height: 40px;padding-left: 10px;cursor: pointer"></span>
          <span class="pull-left" style="cursor: pointer;font-size: 18px;line-height: 40px;">返回</span>
        </div>
        <div class="title"
             style="text-align: center;font-size: 30px;font-weight:bold;margin: 10px 0 ;color: #3c3c3c;">
          发送命令
        </div>
      </div>
      <div class="sendInput" style="width: 50%;margin: 0 auto 10px">
        <div class="input-group">
          <input type="text" class="form-control input_msg" placeholder="请输入发送的命令">
          <span class="input-group-btn">
              <button class="btn btn-success search-btn" type="button" onclick="SendExecMsg('')">发送</button>
            </span>
        </div>
      </div>
      <div style="margin: 0 0 10px 0">
        <button class="btn btn-success " type="button" onclick="SendExecMsg('1')">占位命令</button>
        <button class="btn btn-success " type="button" onclick="SendExecMsg('2')">占位命令</button>
        <button class="btn btn-success " type="button" onclick="SendExecMsg('3')">占位命令</button>
      </div>
      <table class="table table-bordered">
        <thead>
        <tr>
          <!--"SerialNumber": "cert_deec7666ee6a11e8bcca0242ac110003",
              "Type": "Registered",
              "Mode": "UnKnowType",
              "State": "Normal",
              "Issuer_id": 3,
              "IssueDate": "2018-11-22 15:25:40",
              "ValidityBegin": "2018-11-22 15:25:40",
              "ValidityEnd": "2038-11-17 15:25:40",
              "IssueTimes": 1-->
          <th>序列号</th>
          <th>发送命令</th>
          <th>回复信息</th>
          <th>发送状态</th>
        </tr>
        </thead>
        <tbody>

        </tbody>
      </table>
    </div>
  </section>
  <!--在线设备页面结束-->


  <!--设备型号认证页面-->
  <section class="content" id="TerminalVerify" style="display: none">
    <div style="text-align: center;font-size: 30px;font-weight:bold;margin: 10px 0;color: #3c3c3c;">设备型号验证</div>
    <button type="button" id="addModuleVerify" class="btn"
            style="background: #222d32;color: #ffffff;margin-bottom: 20px" onclick="showAddModuleField_modal()"> 添加型号验证
    </button>


    <div class="tablebox_TerminalVerify" style="width: 100%;overflow: auto">
      <table class="table table-bordered">
        <thead>
        <tr>
          <!--<th>
              <input type="checkbox" style="vertical-align: top" id="TerminalVerify_all_cb">#
          </th>-->
          <th>型号验证名称</th>
          <th>验证列表</th>
          <!--<th>验证</th>-->
        </tr>
        </thead>
        <tbody>

        </tbody>
      </table>
    </div>
  </section>
  <!--设备型号认证结束-->
</section>


<!--发送命令给在线设备-->
<div class="terminal" style="display: none">
  <div class="terminal_content " >
    <div class="hd ">
      <div class="fr" onclick="closeTerminal()"><span style="line-height: 28px" class="fa fa-remove"></span></div>
    </div>
    <p class="" unselectable="on" style="text-align:center;height: 40px;line-height: 40px;font-size: 20px;color: #ffffff;background-color:#000;">Welcome to Terminal</p>
    <div class="body " style="overflow-y: auto">
      <p><span class="terminal_Prefix"></span><input type="text"></p>
    </div>
  </div>
</div>
<!--发送命令给在线设备-->


<!--设备字段验证提示输入框-->
<div class="modal fade" id="ModuleFieldManage_Modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">

  <div class="modal-dialog modal-md" role="document">

    <!--添加字段验证-->
    <div class="modal-content addModuleField_content">
      <div class="modal-header">
        <button type="button" class="close" onclick="closeModal('#ModuleFieldManage_Modal')" aria-label="Close"><span
                aria-hidden="true">&times;</span></button>
        <h4 class="modal-title h4" style="text-align: center">添加型号验证</h4>
      </div>
      <div class="modal-body">

        <label class="mylabel beizhu" style="text-align: center">型号备注</label>
        <div class="form-group beizhu">
          <textarea class="form-control" id="textarea_ModuleNumber" rows="3" placeholder="备注"></textarea>
        </div>

        <label class="mylabel" style="text-align: center">验证类型</label>
        <div class="selectFieldName" style="padding-left: 10px">

        </div>

        <!--<label class="mylabel" style="text-align: center">是否进行认证</label>-->
        <!--<input type="radio" name="radio_verify" value="1" checked> 是-->
        <!--<input type="radio" name="radio_verify" value="0"> 否-->
        <br/>

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" onclick="AddModuleField()">开启验证</button>
      </div>
    </div>
    <!--添加字段验证-->

    <!--显示字段验证-->
    <div class="modal-content showModuleField_content" style="display: none">
      <div class="modal-header">
        <button type="button" class="close" onclick="closeModal('#ModuleFieldManage_Modal')" aria-label="Close"><span
                aria-hidden="true">&times;</span></button>
        <h4 class="modal-title h4" style="text-align: center">型号验证列表</h4>
      </div>
      <div class="modal-body">
        <button type="button" id="" class="btn" style="background: #222d32;color: #ffffff;margin-bottom: 20px"
                onclick="RemoveModuleField()"> 删除型号验证
        </button>
        <button type="button" id="addVerify" class="btn"
                style="background: #222d32;color: #ffffff;margin-bottom: 20px" onclick="showAddField_modal()"> 添加型号验证
        </button>
        <div class="tablebox_TerminalVerify_Field" style="width: 100%;overflow: auto">
          <table class="table table-bordered">
            <thead>
            <tr>
              <th>
                <!--<input type="checkbox" style="vertical-align: top" id="TerminalVerify_all_cb">-->
                #
              </th>
              <th>验证</th>
              <!--<th>验证</th>-->
            </tr>
            </thead>
            <tbody>

            </tbody>
          </table>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" onclick="closeModal('#ModuleFieldManage_Modal')">关闭</button>
      </div>
    </div>
    <!--显示字段验证-->

  </div>
</div>
<!--设备字段验证提示输入框-->


<!--未授权模板文件-->
<script id="unauthorizedTemp" type="text/html">
  {{each registers as value i}}
  <tr>
    <td><input type="checkbox" name="done" data-sessionid="{{value.sessionid}}"></td>
    <td>{{value.type}}</td>
    <td>{{value.id}}</td>
    <td>{{value.randcode}}</td>
    <td>{{value.online?"在线":"离线"}}</td>
    <td>{{value.reg_datetime}}</td>
    <td>{{value.desc}}</td>
    <td>{{value.hardwareprovider}}</td>
    <td>{{value.hardwaresn}}</td>
    <td>{{value.hardwareversion}}</td>
    <td>{{value.softwareprovider}}</td>
    <td>{{value.softwareversion}}</td>
    <td>{{value.cpu}}</td>
    <td>{{value.imei}}</td>
    <td>{{value.mac}}</td>
    <td>{{value.osid}}</td>
    <td>{{value.ostype}}</td>
    <td>{{value.osversion}}</td>
    <td>{{value.modelnumber}}</td>
    <td>{{value.serialnumber}}</td>
    <td>{{value.sessionid}}</td>
    <td>{{value.userlabel}}</td>
    <td class="iphost">{{value.clienthost}}</td>
  </tr>
  {{/each}}
</script>
<!--未授权模板结束-->

<!--授权设备模板文件-->
<script id="authorizedTemp" type="text/html">
  {{each terminal_list as value i}}
  <tr>
    <!--<td><input type="checkbox" name="done" data-sessionid="{{value.sessionid}}"></td>-->
    <td>{{value.Type}}</td>
    <td>{{value.CLI_ID}}</td>
    <!--<td>{{value.randcode}}</td>-->
    <td>{{value.Desc}}</td>
    <td>{{value.ModuleNumber}}</td>
    <td>{{value.SerialNumber}}</td>
    <td>{{value.HardwareProvider}}</td>
    <td>{{value.HardwareSN}}</td>
    <td>{{value.HardwareVersion}}</td>
    <td>{{value.SoftwareProvider}}</td>
    <td>{{value.SoftwareVersion}}</td>
    <td>{{value.UserLabel}}</td>
    <td>{{value.CPU}}</td>
    <td>{{value.IMEI}}</td>
    <td>{{value.MAC}}</td>
    <td>{{value.OSID}}</td>
    <td>{{value.OSType}}</td>
    <td>{{value.OSVersion}}</td>
    <!--<td>{{value.sessionid}}</td>-->
    <!--<td>{{value.userlabel}}</td>-->
    <!--<td class="iphost">{{value.clienthost}}</td>-->
  </tr>
  {{/each}}
</script>
<!--授权设备模板结束-->

<!--在线设备模板文件-->
<script id="onlineTermsTemp" type="text/html">
  {{each terminal_list as value i}}
  <tr>
    <td><input type="checkbox" name="done" data-bind="{{value.SerialNumber}}"></td>
    <td>{{value.Type}}</td>
    <td>{{value.CLI_ID}}</td>
    <!--<td>{{value.randcode}}</td>-->
    <td>{{value.Desc}}</td>
    <td>{{value.ModuleNumber}}</td>
    <td>{{value.SerialNumber}}</td>
    <td>{{value.HardwareProvider}}</td>
    <td>{{value.HardwareSN}}</td>
    <td>{{value.HardwareVersion}}</td>
    <td>{{value.SoftwareProvider}}</td>
    <td>{{value.SoftwareVersion}}</td>
    <td>{{value.UserLabel}}</td>
    <td>{{value.CPU}}</td>
    <td>{{value.IMEI}}</td>
    <td>{{value.MAC}}</td>
    <td>{{value.OSID}}</td>
    <td>{{value.OSType}}</td>
    <td>{{value.OSVersion}}</td>
    <!--<td>{{value.sessionid}}</td>-->
    <!--<td>{{value.userlabel}}</td>-->
    <!--<td class="iphost">{{value.clienthost}}</td>-->
  </tr>
  {{/each}}
</script>
<!--在线设备模板结束-->

<!--在线设备发送信息模板-->
<script id="onlineTermsExecTemp" type="text/html">
  {{each data as value i}}
  <tr data-bind="{{value.term}}">
    <td style="line-height: 51px">{{value.term}}</td>
    <td style="line-height: 51px" class="sendmsg"><span class="fa fa-refresh fa-spin"></span></td>
    <td style="line-height: 51px" class="callmsg">
      <!--<button onclick="getcmd_response('{{value.term}}')" class="btn btn-primary">获取信息</button>-->
      <span class="fa fa-refresh fa-spin">
      </span></td>
    <td style="line-height: 51px" class="sendstatus"><span class="fa fa-refresh fa-spin"></span></td>
  </tr>
  {{/each}}
</script>
<!--在线设备发送信息结束-->


<!--设备型号认证模板文件-->
<script id="TerminalVerifyTemp" type="text/html">
  {{each list as value i}}
  <tr>
    <td>{{value}}</td>
    <td>
      <button class="btn-link" data-bind="{{value}" onclick="showListModuleField_modal('{{value}}')">管理</button>
    </td>
    <!--<td>{{value.Verify?"是":"否"}}</td>-->
  </tr>
  {{/each}}
</script>
<!--设备型号认证模板结束-->

<!--设备验证列表字段模板文件-->
<script id="TerminalVerify_FieldTemp" type="text/html">
  {{each module_fields as value i}}
  <tr>
    <td><input type="radio" name="cb_termlist" data-bind="{{module}}"></td>
    <td class="field" data-bind="{{value.split('|')[0]}}">{{value.split("|")[1]}}</td>
  </tr>
  {{/each}}
</script>
<!--设备验证列表字段模板文件结束-->


<!--设备型号验证字段名称列表-->
<script id="ModuleFieldNameTemp" type="text/html">
  {{ each fields as value i}}
  <div class="" style="display:inline-block;width: 130px;">
    <input type="checkbox" name="radioFieldName" value="{{value.split('|')[0]}}"> {{value.split('|')[1]}}
  </div>

  {{/each}}
</script>
<!--设备型号验证字段名称列表-->


<script src="/static/js/bootstrap.min.js"></script>
<script src="/static/js/template.js"></script>
<script src="/static/js/index.js"></script>
</body>
</html>
